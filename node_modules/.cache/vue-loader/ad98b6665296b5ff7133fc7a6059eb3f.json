{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/PaymentClient.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/PaymentClient.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtZGlRcmNvZGVTY2FuIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBEZW5pZWQgZnJvbSAnQC9jb21wb25lbnRzL0RlbmllZENsaWVudCc7CmltcG9ydCBEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL0RpYWxvZ01lc3NhZ2UnOwppbXBvcnQge21hcFN0YXRlLG1hcE11dGF0aW9uc30gZnJvbSAndnVleCc7CmltcG9ydCBxcyBmcm9tICdxcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOnsKICAgICAgICBEZW5pZWQsRGlhbG9nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHZhbGlkOmZhbHNlLAogICAgICAgICAgICBjaXR5OiAnJywKICAgICAgICAgICAgY2l0eXM6WydMYSBQYXonLCAnUG90b3PDrScsICdDb2NoYWJhbWJhJywnUGFuZG8nLCdCZW5pJywnU2FudGEgQ3J1eicsJ09ydXJvJywnU3VjcmUnLCdUYXJpamEnXSwKICAgICAgICAgICAgY2l0eVJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnTGEgY2l1ZGFkIGVzIHJlcXVlcmlkYScsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHBob25lOiAnJywKICAgICAgICAgICAgcGhvbmVSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ0VsIHRlbMOpZm9ubyBlcyByZXF1ZXJpZG8nLAogICAgICAgICAgICBdLAogICAgICAgICAgICBkaXJlY3Rpb246ICcnLAogICAgICAgICAgICBkaXJlY3Rpb25SdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ0xhIGRpcmVjY2nDs24gZXMgcmVxdWVyaWRhJywKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcXI6bWRpUXJjb2RlU2NhbiwKCiAgICAgICAgICAgIGRpYWxvZzpmYWxzZSwKICAgICAgICAgICAgbWVzc2FnZTonJywKICAgICAgICAgICAgcmVkaXI6ZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICAuLi5tYXBTdGF0ZShbJ3Nlc3Npb24nLCdub3RpZmljYXRpb24nXSksCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgLi4ubWFwTXV0YXRpb25zKFsncHVzaE5vdGlmaWNhdGlvbiddKSwKICAgICAgICBwYXkoKXsKICAgICAgICAgICAgaWYodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpewogICAgICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpxcy5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICBjaXR5OnRoaXMuY2l0eSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICBwaG9uZUNvbmZpcm06dGhpcy5waG9uZSwKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICB1cmw6Jy9jYXJ0L2VuZGVkJywKICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZT1yZXNwb25zZS5kYXRhLm1lc3NhZ2UrJyc7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRpcj1yZXNwb25zZS5kYXRhLnN0YXR1czsKICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hOb3RpZmljYXRpb24odGhpcy5ub3RpZmljYXRpb24tcmVzcG9uc2UuZGF0YS5jb3VudCk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnI9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlPWVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZT0nRXJyb3IgZW4gbGEgcmVzcHVlc3RhJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb2soKXsKICAgICAgICAgICAgaWYodGhpcy5yZWRpcil7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuZGlhbG9nPWZhbHNlOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["PaymentClient.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PaymentClient.vue","sourceRoot":"src/views/client/data","sourcesContent":["<template>\n    <Denied v-if=\"!session\"/>\n    <v-container v-else>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1 class=\"white--text text-center\">Pago</h1>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\">\n                <v-flex d-flex class=\"fill-height\">\n                    <v-row align=\"center\">\n                        <v-card color=\"accent\" style=\"border-radius:1em\" class=\"pa-5\">\n                            <v-card-text>\n                                <v-row>\n                                    <v-col cols=\"12\" class=\"pa-1\">\n                                        <h4 class=\"white--text text-center\">El código qr con el monto se enviará a la sección de pedidos y a su número de whatsapp para completar el pedido.</h4>\n                                    </v-col>\n                                    <v-col cols=\"12\" class=\"d-flex justify-center pa-1\">\n                                        <v-icon size=\"200\" color=\"white\" >{{qr}}</v-icon>\n                                    </v-col>\n                                </v-row>\n                            </v-card-text>\n                        </v-card>\n                    </v-row>\n                </v-flex>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\">\n                <v-form v-model=\"valid\" ref=\"form\">\n                    <v-container>\n                        <v-row>\n                            <v-col cols=\"12\" class=\"pa-0\">\n                                <h2 class=\"accent--text text-center\">Envío</h2>\n                            </v-col>\n                            <v-col cols=\"12\" class=\"pa-0\">\n                                <v-autocomplete\n                                    v-model=\"city\"\n                                    :items=\"citys\"\n                                    :rules=\"cityRules\"\n                                    filled\n                                    label=\"Ciudad\"\n                                    required\n                                    outlined\n                                    color=\"white\"\n                                    clearable\n                                ></v-autocomplete>\n                            </v-col>\n\n                            <v-col cols=\"12\" class=\"pa-0\">\n                                <v-text-field\n                                    v-model=\"phone\"\n                                    :rules=\"phoneRules\"\n                                    label=\"Confirmenos su teléfono/whatsapp\"\n                                    required\n                                    outlined\n                                    color=\"white\"\n                                ></v-text-field>\n                            </v-col>\n\n                            <v-col cols=\"12\" class=\"pa-0\">\n                                <v-text-field\n                                    v-model=\"direction\"\n                                    :rules=\"directionRules\"\n                                    label=\"Dirección\"\n                                    required\n                                    outlined\n                                    color=\"white\"\n                                ></v-text-field>\n                            </v-col>\n                            \n                            <v-col cols=\"12\" class=\"d-flex justify-center\">\n                                <v-btn large color=\"secondary\" class=\"text-capitalize\" @click=\"pay\">Enviar</v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </v-form>\n            </v-col>\n        </v-row>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n\n<script>\n\nimport { mdiQrcodeScan } from '@mdi/js';\nimport Denied from '@/components/DeniedClient';\nimport Dialog from '@/components/DialogMessage';\nimport {mapState,mapMutations} from 'vuex';\nimport qs from 'qs';\n\nexport default {\n    components:{\n        Denied,Dialog\n    },\n    data() {\n        return{\n            valid:false,\n            city: '',\n            citys:['La Paz', 'Potosí', 'Cochabamba','Pando','Beni','Santa Cruz','Oruro','Sucre','Tarija'],\n            cityRules: [\n                v => !!v || 'La ciudad es requerida',\n            ],\n            phone: '',\n            phoneRules: [\n                v => !!v || 'El teléfono es requerido',\n            ],\n            direction: '',\n            directionRules: [\n                v => !!v || 'La dirección es requerida',\n            ],\n            qr:mdiQrcodeScan,\n\n            dialog:false,\n            message:'',\n            redir:false,\n        }\n    },\n    computed:{\n        ...mapState(['session','notification']),\n    },\n    methods:{\n        ...mapMutations(['pushNotification']),\n        pay(){\n            if(this.$refs.form.validate()){\n                this.axios({\n                    method: 'POST',\n                    data:qs.stringify({\n                        city:this.city,\n                        direction:this.direction,\n                        phoneConfirm:this.phone,\n                    }),\n                    url:'/cart/ended',\n                }).then(response=>{\n                    this.dialog=true;\n                    this.message=response.data.message+'';\n                    this.redir=response.data.status;\n                    this.pushNotification(this.notification-response.data.count);\n                }).catch(err=>{\n                    this.dialog=true;\n                    if (err.response) {\n                        this.message=err.response.data.message;\n                    }else{\n                        this.message='Error en la respuesta';\n                    }\n                });\n            }else{\n                this.$refs.form.validate();\n            }\n        },\n        ok(){\n            if(this.redir){\n                this.$router.push('/');\n            }\n            this.dialog=false;\n        }\n    }\n}\n</script>"]}]}