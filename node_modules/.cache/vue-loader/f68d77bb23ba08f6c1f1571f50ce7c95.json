{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/admin/DragImageAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/admin/DragImageAdmin.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtZGlJbWFnZUFyZWEsbWRpRG9tYWluIH0gZnJvbSAnQG1kaS9qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQUltYWdlUGljaycsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBpc0RyYWdnaW5nOmZhbHNlLAogICAgICAgICAgICB3cm9uZ0ZpbGU6ZmFsc2UsCiAgICAgICAgICAgIGltYWdlU291cmNlOm51bGwsCiAgICAgICAgICAgIGljb24yOm1kaUltYWdlQXJlYSwKICAgICAgICAgICAgaWNvbjptZGlEb21haW4KICAgICAgICB9CiAgICB9LAogICAgcHJvcHM6ewogICAgICAgIHFyOnsKICAgICAgICAgICAgdHlwZTpCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OmZhbHNlCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICBnZXRDbGFzc2VzKCl7CiAgICAgICAgICAgIHJldHVybiB7aXNEcmFnZ2luZzogdGhpcy5pc0RyYWdnaW5nfTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgZHJhZ092ZXIoKXsKICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGRyYWdMZWF2ZSgpewogICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGRyb3AoZSl7CiAgICAgICAgICAgIGxldCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICAgICAgICB0aGlzLndyb25nRmlsZSA9IGZhbHNlOwogICAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGZpbGVzWzBdOwogICAgICAgICAgICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZS8nKSA+PSAwKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVNvdXJjZSA9IGYudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZHJvcC1pdGVtJyx7aW1hZ2U6ZmlsZX0pOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLndyb25nRmlsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVNvdXJjZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uUmVxdWVzdFVwbG9hZEZpbGVzKCl7CiAgICAgICAgCiAgICAgICAgfSwKICAgICAgICByZXF1ZXN0VXBsb2FkRmlsZSgpewogICAgICAgICAgICB2YXIgc3JjID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignI3VwbG9hZG15ZmlsZScpCiAgICAgICAgICAgIHRoaXMuZHJvcCh7ZGF0YVRyYW5zZmVyOnNyY30pCiAgICAgICAgfSwKICAgICAgICBjbG9zZUltZygpewogICAgICAgICAgICB0aGlzLndyb25nRmlsZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmltYWdlU291cmNlID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Ryb3AtaXRlbScse2ltYWdlOm51bGx9KTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["DragImageAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DragImageAdmin.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <v-card elevation=\"15\" class=\"pa-1\" height=\"300\" width=\"300\">\n    <div class=\"drop\" \n        :class=\"getClasses\" \n        @dragover.prevent=\"dragOver\" \n        @dragleave.prevent=\"dragLeave\"\n        @drop.prevent=\"drop($event)\"\n        style=\"position:relative\"\n    >\n        <img :src=\"imageSource\" v-if=\"imageSource\" />\n        \n        <label for=\"uploadmyfile\" style=\"cursor:pointer\">\n            <h1 v-if=\"wrongFile\" class=\"primary--text text-center\" style=\"cursor:pointer\">Error en el formato de archivo</h1>\n            <v-icon v-if=\"!imageSource && !isDragging && !wrongFile\" size=\"200\" color=\"accent\">{{qr?icon:icon2}}</v-icon>\n        </label>\n        <input type=\"file\" id=\"uploadmyfile\" :accept=\"'image/*'\" multiple @change=\"requestUploadFile\">\n        <v-btn \n            color=\"secondary\" \n            fab dark absolute \n            right \n            top \n            x-small\n            @click=\"closeImg\"\n            v-if=\"imageSource\"\n        >\n            <v-icon>mdi-close</v-icon>\n        </v-btn>\n    </div>\n  </v-card>\n</template>\n\n\n<script>\n\nimport { mdiImageArea,mdiDomain } from '@mdi/js';\n\nexport default {\n    name: 'AImagePick',\n    data(){\n        return{\n            isDragging:false,\n            wrongFile:false,\n            imageSource:null,\n            icon2:mdiImageArea,\n            icon:mdiDomain\n        }\n    },\n    props:{\n        qr:{\n            type:Boolean,\n            default:false\n        }\n    },\n    computed:{\n        getClasses(){\n            return {isDragging: this.isDragging};\n        }\n    },\n    methods:{\n        dragOver(){\n            this.isDragging = true;\n        },\n        dragLeave(){\n            this.isDragging = false;\n        },\n        drop(e){\n            let files = e.dataTransfer.files;\n            this.wrongFile = false;\n            if (files.length === 1) {\n                let file = files[0];\n                if (file.type.indexOf('image/') >= 0) {\n\n                    var reader = new FileReader();\n                    reader.onload = f => {\n                        this.imageSource = f.target.result;\n                        this.$emit('drop-item',{image:file});\n                        this.isDragging = false;\n                    }\n                    reader.readAsDataURL(file);\n                }else{\n                    this.wrongFile = true;\n                    this.imageSource = null;\n                    this.isDragging = false;\n                }\n            }\n        },\n        onRequestUploadFiles(){\n        \n        },\n        requestUploadFile(){\n            var src = this.$el.querySelector('#uploadmyfile')\n            this.drop({dataTransfer:src})\n        },\n        closeImg(){\n            this.wrongFile = false;\n            this.imageSource = null;\n            this.isDragging = false;\n            this.$emit('drop-item',{image:null});\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n.drop{\n  width: 100%;\n  height: 100%;\n  background-color: #eee;\n  border:10px solid #eee;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 1rem;\n  transition: background-color .2s ease-in-out;\n\n  font-family: sans-serif;\n}\n\n.isDragging{\n  background-color: #999;\n  border-color: #fff;\n}\n\nimg{\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n#uploadmyfile{\n  display: none;\n}\n</style>"]}]}