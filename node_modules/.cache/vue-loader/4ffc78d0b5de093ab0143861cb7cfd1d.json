{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Admins.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Admins.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtZGlEZWxldGVPdXRsaW5lLG1kaVVwZGF0ZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9EaWFsb2dNZXNzYWdlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6ewogICAgICAgIERpYWxvZwogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBhZG1pbnM6W10sCiAgICAgICAgICAgIGljb246bWRpRGVsZXRlT3V0bGluZSwKICAgICAgICAgICAgdXBkYXRlOm1kaVVwZGF0ZSwKICAgICAgICAgICAgc2Nyb2xsQm90dG9tOmZhbHNlLAogICAgICAgICAgICBkaWFsb2dBY3Rpb246ZmFsc2UsCiAgICAgICAgICAgIGlkRGVsZXRlOicnLAogICAgICAgICAgICBwb3NEZWxldGU6MCwKCiAgICAgICAgICAgIHNraXA6MCwKICAgICAgICAgICAgbGltaXQ6MTAsCiAgICAgICAgICAgIGNhbGxBcGk6dHJ1ZSwKCiAgICAgICAgICAgIG1lc3NhZ2U6JycsCiAgICAgICAgICAgIGRpYWxvZzpmYWxzZSwKICAgICAgICAgICAgcmVkaXI6ZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIHRoaXMuc2Nyb2xsKCk7CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgc2Nyb2xsKCl7CiAgICAgICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBib3R0b21PZldpbmRvdyA9IE1hdGgubWF4KHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApICsgd2luZG93LmlubmVySGVpZ2h0ID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgICAgICAgaWYgKGJvdHRvbU9mV2luZG93KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxCb3R0b209dHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaW5pdCgpewogICAgICAgICAgICBpZighdGhpcy5jYWxsQXBpKXJldHVybjsKICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpudWxsLAogICAgICAgICAgICAgICAgdXJsOicvYWRtaW4vdXNlcmFkbWlucz9za2lwPScrdGhpcy5za2lwKycmbGltaXQ9Jyt0aGlzLmxpbWl0LAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLmxlbmd0aD09MCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsQXBpPWZhbHNlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuYWRtaW5zPXRoaXMuYWRtaW5zLmNvbmNhdChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuc2tpcCs9dGhpcy5saW1pdDsKICAgICAgICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZVVzZXIoaXRlbSl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nQWN0aW9uPWZhbHNlOwogICAgICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJywKICAgICAgICAgICAgICAgIGRhdGE6cXMuc3RyaW5naWZ5KGl0ZW0pLAogICAgICAgICAgICAgICAgdXJsOicvYWRtaW4vdXBkYXRlLycraXRlbS5faWQsCiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2U9PnJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgIC50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nPXRydWU7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9cmVzcC5tZXNzYWdlOwogICAgICAgICAgICAgICAgdGhpcy5yZWRpcj10cnVlOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9rKCl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nPWZhbHNlOwogICAgICAgIH0sCiAgICAgICAgc2F2ZUlkRGVsZXRlKGlkLGkpewogICAgICAgICAgICB0aGlzLmlkRGVsZXRlPWlkOwogICAgICAgICAgICB0aGlzLnBvc0RlbGV0ZT1pOwogICAgICAgICAgICB0aGlzLmRpYWxvZ0FjdGlvbj10cnVlOwogICAgICAgIH0sCiAgICAgICAgZGVsZXRlVXNlcigpewogICAgICAgICAgICB0aGlzLmRpYWxvZ0FjdGlvbj1mYWxzZTsKICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgICAgICAgICAgZGF0YTpudWxsLAogICAgICAgICAgICAgICAgdXJsOicvYWRtaW4vZGVsZXRlLycrdGhpcy5pZERlbGV0ZSwKICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZT0+cmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2c9dHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZT1yZXNwLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICB0aGlzLnJlZGlyPXRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmFkbWlucy5zcGxpY2UodGhpcy5wb3NEZWxldGUsMSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnI9PnsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgdGhpcy5pbml0KCk7CiAgICB9Cn0K"},{"version":3,"sources":["Admins.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admins.vue","sourceRoot":"src/views/admin/data","sourcesContent":["<template @scroll=\"scrollhome\">\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1>Lista de Admins (permisos):</h1>\n            </v-col>\n            <v-col cols=\"12\">\n                <v-simple-table>\n                    <template v-slot:default>\n                        <thead>\n                        <tr>\n                            <th class=\"text-left\">\n                                Nro\n                            </th>\n                            <th class=\"text-left\">\n                                Nombre\n                            </th>\n                            <th class=\"text-left\">\n                                Eliminar usuarios\n                            </th>\n                            <th class=\"text-left\">\n                                Publicar\n                            </th>\n                            <th class=\"text-left\">\n                                Servicio técnico\n                            </th>\n                            <th class=\"text-left\">\n                                Reportes\n                            </th>\n                            <th class=\"text-left\">\n                                Cotizaciones\n                            </th>\n                            <th class=\"text-left\">\n                                Generar qr de pagos\n                            </th>\n                            <th class=\"text-left\">\n                                Acción\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr\n                            v-for=\"(item,index) in admins\"\n                            :key=\"index\"\n                        >\n                            <td>{{index+1}}</td>\n                            <td>{{ item.name }}</td>\n                            <td><v-checkbox v-model=\"item.user\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.publish\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.service\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.reports\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.cotization\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.qr\"></v-checkbox></td>\n                            <td>\n                                <v-btn text small @click=\"updateUser(item)\">\n                                    <v-icon color=\"accent\">{{update}}</v-icon>\n                                </v-btn>\n                                <v-btn text small @click=\"saveIdDelete(item._id,index)\">\n                                    <v-icon color=\"accent\">{{icon}}</v-icon>\n                                </v-btn>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </template>\n                </v-simple-table>\n            </v-col>\n        </v-row>\n        <v-dialog\n            v-model=\"dialogAction\"\n            width=\"300\"\n        >\n            <v-card class=\"pa-5\">\n                <v-card-text>\n                    <h1 class=\"text-center\">¿Está seguro de eliminar el usuario?</h1>\n                </v-card-text>\n                <v-card-actions>\n                    <v-btn small color=\"secondary\" class=\"text-capitalize\" @click=\"dialogAction=false\">Cancelar</v-btn>\n                    <v-divider></v-divider>\n                    <v-btn small color=\"secondary\" class=\"text-capitalize\" @click=\"deleteUser\">Eliminar</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n<script>\n\nimport { mdiDeleteOutline,mdiUpdate } from '@mdi/js';\nimport qs from 'qs';\nimport Dialog from '@/components/DialogMessage';\n\nexport default {\n    components:{\n        Dialog\n    },\n    data() {\n        return{\n            admins:[],\n            icon:mdiDeleteOutline,\n            update:mdiUpdate,\n            scrollBottom:false,\n            dialogAction:false,\n            idDelete:'',\n            posDelete:0,\n\n            skip:0,\n            limit:10,\n            callApi:true,\n\n            message:'',\n            dialog:false,\n            redir:false,\n        }\n    },\n    mounted () {\n        this.scroll();\n    },\n    methods:{\n        scroll(){\n            window.onscroll = () => {\n                let bottomOfWindow = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) + window.innerHeight === document.documentElement.offsetHeight;\n                if (bottomOfWindow) {\n                    this.scrollBottom=true;\n                    this.init();\n                }\n            }\n        },\n        init(){\n            if(!this.callApi)return;\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/admin/useradmins?skip='+this.skip+'&limit='+this.limit,\n            }).then(response=>{\n                if(response.data.length==0){\n                    this.callApi=false;\n                    return;\n                }\n                this.admins=this.admins.concat(response.data);\n                this.skip+=this.limit;\n            }).catch(err=>{\n                console.log(err);\n            });\n        },\n        updateUser(item){\n            this.dialogAction=false;\n            this.axios({\n                method: 'PATCH',\n                data:qs.stringify(item),\n                url:'/admin/update/'+item._id,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.dialog=true;\n                this.message=resp.message;\n                this.redir=true;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        ok(){\n            this.dialog=false;\n        },\n        saveIdDelete(id,i){\n            this.idDelete=id;\n            this.posDelete=i;\n            this.dialogAction=true;\n        },\n        deleteUser(){\n            this.dialogAction=false;\n            this.axios({\n                method: 'DELETE',\n                data:null,\n                url:'/admin/delete/'+this.idDelete,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.dialog=true;\n                this.message=resp.message;\n                this.redir=true;\n                this.admins.splice(this.posDelete,1);\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"]}]}