{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/DetailProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/DetailProduct.vue","mtime":1635315487804},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge21hcE11dGF0aW9ucywgbWFwU3RhdGV9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9EaWFsb2dNZXNzYWdlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6ewogICAgICAgIERpYWxvZwogICAgfSwKICAgIHByb3BzOlsnaWQnXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBuYW1lOicnLAogICAgICAgICAgICBwcmljZTowLAogICAgICAgICAgICBkaXNjb3VudDowLAogICAgICAgICAgICBzdGF0ZURpc2NvdW50OmZhbHNlLAogICAgICAgICAgICBnYWxsZXJ5OiBbXSwKICAgICAgICAgICAgZGVzY3JpcHRpb246JycsCiAgICAgICAgICAgIGNvdW50OjEsCgogICAgICAgICAgICBjYXJ0OmZhbHNlLAogICAgICAgICAgICBjb3R6OmZhbHNlLAoKICAgICAgICAgICAgbWVzc2FnZTonJywKICAgICAgICAgICAgZGlhbG9nOmZhbHNlLAogICAgICAgICAgICByZWRpcjpmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgLi4ubWFwU3RhdGUoWydzZXNzaW9uJywnbm90aWZpY2F0aW9uJ10pLAogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC4uLm1hcE11dGF0aW9ucyhbJ3B1c2hOb3RpZmljYXRpb24nXSksCiAgICAgICAgaW5pdCgpewogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpudWxsLAogICAgICAgICAgICAgICAgdXJsOicvcHJvZHVjdC9nZXQvJyt0aGlzLmlkLAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhLmRhdGEpCiAgICAgICAgICAgIC50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeT1yZXNwLmdhbGxlcnk7CiAgICAgICAgICAgICAgICB0aGlzLm5hbWU9cmVzcC5uYW1lOwogICAgICAgICAgICAgICAgdGhpcy5wcmljZT1yZXNwLnByaWNlOwogICAgICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbj1yZXNwLmRlc2NyaXB0aW9uOwogICAgICAgICAgICAgICAgdGhpcy5zdGF0ZURpc2NvdW50PXJlc3Auc3RhdGVEaXNjb3VudDsKICAgICAgICAgICAgICAgIHRoaXMuZGlzY291bnQ9cmVzcC5kaXNjb3VudDsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycj0+ewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZighdGhpcy5zZXNzaW9uKXJldHVybjsKCiAgICAgICAgICAgIHRoaXMuYXhpb3MoewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6bnVsbCwKICAgICAgICAgICAgICAgIHVybDonL2NhcnQvZXhpc3QvJyt0aGlzLmlkLAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhKQogICAgICAgICAgICAudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICB0aGlzLmNhcnQ9cmVzcC5zdGF0dXM7CiAgICAgICAgICAgICAgICBpZihyZXNwLnN0YXR1cyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2c9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9cmVzcC5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucmVkaXI9dHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycj0+ewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICBkYXRhOm51bGwsCiAgICAgICAgICAgICAgICB1cmw6Jy9jYXJ0L2NvdGl6YXRpb24vJyt0aGlzLmlkLAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhKQogICAgICAgICAgICAudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICB0aGlzLmNvdHo9cmVzcC5zdGF0dXM7CiAgICAgICAgICAgICAgICBpZihyZXNwLnN0YXR1cyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2c9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9cmVzcC5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucmVkaXI9dHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycj0+ewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhZGRDYXJ0KCl7CiAgICAgICAgICAgIGlmKHRoaXMuY291bnQ+MCl7CiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBkYXRhOnFzLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6dGhpcy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6dGhpcy5jb3VudAogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIHVybDonL2NhcnQvYWRkJywKICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2U9PnJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcC5zdGF0dXMpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9cmVzcC5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZGlyPXJlc3Auc3RhdHVzOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcnQ9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTm90aWZpY2F0aW9uKHRoaXMubm90aWZpY2F0aW9uKzEpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9cmVzcC5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZGlyPXJlc3Auc3RhdHVzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nPXRydWU7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9J0xhIGNhbnRpZGFkIHRpZW5lIHF1ZSBzZXIgbWF5b3IgbyBpZ3VhbCBhIDEgcGFyYSBhw7FhZGlyIGFsIGNhcnJpdG8nOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhZGRDb3R6KCl7CiAgICAgICAgICAgIGlmKHRoaXMuY291bnQ+MCl7CiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBkYXRhOnFzLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6dGhpcy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6dGhpcy5jb3VudAogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIHVybDonL2NhcnQvY290aXphdGlvbicsCiAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nPXRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlPXJlc3AubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZGlyPXJlc3Auc3RhdHVzOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY290ej10cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE5vdGlmaWNhdGlvbih0aGlzLm5vdGlmaWNhdGlvbisxKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nPXRydWU7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9J0xhIGNhbnRpZGFkIHRpZW5lIHF1ZSBzZXIgbWF5b3IgbyBpZ3VhbCBhIDEgcGFyYSBhw7FhZGlyIGEgbGEgY290aXphY2nDs24nOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvaygpewogICAgICAgICAgICBpZih0aGlzLnJlZGlyKXsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2hvcHBpbmdjYXJ0Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5kaWFsb2c9ZmFsc2U7CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLmluaXQoKTsKICAgIH0KfQo="},{"version":3,"sources":["DetailProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailProduct.vue","sourceRoot":"src/views/client/data","sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" sm=\"6\" class=\"d-flex align-center\">\n            <v-carousel hide-delimiters style=\"border-radius:1em\">\n                <v-carousel-item\n                    v-for=\"(item,i) in gallery\"\n                    :key=\"i\"\n                    :src=\"item.path\"\n                ></v-carousel-item>\n            </v-carousel>\n        </v-col>\n        <v-col cols=\"12\" sm=\"6\">\n            <v-flex d-flex class=\"fill-height\">\n                <v-row align-content=\"center\" justify=\"center\">\n                    <v-col cols=\"12\">\n                        <h1 class=\"text-left white--text text-uppercase\">{{name}}</h1>\n                    </v-col>\n                    <v-col cols=\"12\">\n                        <h4 class=\"text-justify white--text font-weight-medium font-italic\">{{description}}</h4>\n                    </v-col>\n                    <v-col cols=\"12\" v-if=\"stateDiscount\" class=\"pa-1\">\n                        <v-row>\n                            <v-col cols=\"12\"><h4 class=\" text-left white--text body-1\" > Antes:<span class=\"error--text caption\" style=\"text-decoration: line-through;\"> {{price}} BOB </span></h4></v-col>\n                            <v-col cols=\"12\"><h2 class=\"text-center white--text\">Ahora: <span class=\"Black--text font-weight-light\">{{price-discount}} BOB</span></h2></v-col>\n                        </v-row>\n                    </v-col>\n                    <v-col cols=\"12\" v-else>\n                        <h1 class=\"text-center BOB--text\"><span class=\"text-center primary--text\">Precio: </span> {{price}} BOB</h1>\n                    </v-col>\n                    <v-col cols=\"2\" v-if=\"session&&!cart&&!cotz\">\n                        <v-text-field\n                            v-model=\"count\"\n                            color=\"primary\"\n                            background-color=\"white\"\n                            type=\"number\"\n                            outlined\n                        ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" v-if=\"session&&!cart&&!cotz\">\n                        <v-row>\n                            <v-col cols=\"6\" class=\"d-flex justify-center\">\n                                <v-btn large class=\"text-capitalize\" color=\"secondary\" @click=\"addCart\">Añadir al carrito</v-btn>\n                            </v-col>\n                            <v-col cols=\"6\" class=\"d-flex justify-center\">\n                                <v-btn large class=\"text-capitalize\" color=\"secondary\" @click=\"addCotz\">Añadir para cotizar</v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-col>\n                </v-row>\n            </v-flex>\n        </v-col>\n         <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-row>\n</template>\n\n<script>\n\nimport {mapMutations, mapState} from 'vuex';\nimport qs from 'qs';\nimport Dialog from '@/components/DialogMessage';\n\nexport default {\n    components:{\n        Dialog\n    },\n    props:['id'],\n    data() {\n        return{\n            name:'',\n            price:0,\n            discount:0,\n            stateDiscount:false,\n            gallery: [],\n            description:'',\n            count:1,\n\n            cart:false,\n            cotz:false,\n\n            message:'',\n            dialog:false,\n            redir:false\n        }\n    },\n    computed:{\n        ...mapState(['session','notification']),\n    },\n    methods:{\n        ...mapMutations(['pushNotification']),\n        init(){\n            \n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/product/get/'+this.id,\n            }).then(response=>response.data.data)\n            .then(resp=>{\n                this.gallery=resp.gallery;\n                this.name=resp.name;\n                this.price=resp.price;\n                this.description=resp.description;\n                this.stateDiscount=resp.stateDiscount;\n                this.discount=resp.discount;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n\n            if(!this.session)return;\n\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/cart/exist/'+this.id,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.cart=resp.status;\n                if(resp.status){\n                    this.dialog=true;\n                    this.message=resp.message;\n                    this.redir=true;\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/cart/cotization/'+this.id,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.cotz=resp.status;\n                if(resp.status){\n                    this.dialog=true;\n                    this.message=resp.message;\n                    this.redir=true;\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        addCart(){\n            if(this.count>0){\n                this.axios({\n                    method: 'POST',\n                    data:qs.stringify({\n                        product:this.id,\n                        quantity:this.count\n                    }),\n                    url:'/cart/add',\n                }).then(response=>response.data)\n                .then(resp=>{\n                    if(resp.status){\n                        this.dialog=true;\n                        this.message=resp.message;\n                        this.redir=resp.status;\n                        this.cart=true;\n                        this.pushNotification(this.notification+1);\n                    }else{\n                        this.dialog=true;\n                        this.message=resp.message;\n                        this.redir=resp.status;\n                    }\n                })\n                .catch(err=>{\n                    console.log(err);\n                });\n            }else{\n                this.dialog=true;\n                this.message='La cantidad tiene que ser mayor o igual a 1 para añadir al carrito';\n            }\n        },\n        addCotz(){\n            if(this.count>0){\n                this.axios({\n                    method: 'POST',\n                    data:qs.stringify({\n                        product:this.id,\n                        quantity:this.count\n                    }),\n                    url:'/cart/cotization',\n                }).then(response=>response.data)\n                .then(resp=>{\n                    this.dialog=true;\n                    this.message=resp.message;\n                    this.redir=resp.status;\n                    this.cotz=true;\n                    this.pushNotification(this.notification+1);\n                })\n                .catch(err=>{\n                    console.log(err);\n                });\n            }else{\n                this.dialog=true;\n                this.message='La cantidad tiene que ser mayor o igual a 1 para añadir a la cotización';\n            }\n        },\n        ok(){\n            if(this.redir){\n                this.$router.push('/shoppingcart');\n            }\n            this.dialog=false;\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"]}]}