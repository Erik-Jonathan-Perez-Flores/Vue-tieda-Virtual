{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/client/DragImageAvatar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/client/DragImageAvatar.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtZGlBY2NvdW50IH0gZnJvbSAnQG1kaS9qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQUltYWdlUGljaycsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBpc0RyYWdnaW5nOmZhbHNlLAogICAgICAgICAgICB3cm9uZ0ZpbGU6ZmFsc2UsCiAgICAgICAgICAgIGltYWdlU291cmNlOm51bGwsCiAgICAgICAgICAgIGljb246bWRpQWNjb3VudAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgZ2V0Q2xhc3NlcygpewogICAgICAgICAgICByZXR1cm4ge2lzRHJhZ2dpbmc6IHRoaXMuaXNEcmFnZ2luZ307CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGRyYWdPdmVyKCl7CiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBkcmFnTGVhdmUoKXsKICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICBkcm9wKGUpewogICAgICAgICAgICBsZXQgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgICAgICAgdGhpcy53cm9uZ0ZpbGUgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBmaWxlc1swXTsKICAgICAgICAgICAgICAgIGlmIChmaWxlLnR5cGUuaW5kZXhPZignaW1hZ2UvJykgPj0gMCkgewoKICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTb3VyY2UgPSBmLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Ryb3AtaXRlbScse2ltYWdlOmZpbGV9KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy53cm9uZ0ZpbGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTb3VyY2UgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvblJlcXVlc3RVcGxvYWRGaWxlcygpewogICAgICAgIAogICAgICAgIH0sCiAgICAgICAgcmVxdWVzdFVwbG9hZEZpbGUoKXsKICAgICAgICAgICAgdmFyIHNyYyA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRteWZpbGUnKQogICAgICAgICAgICB0aGlzLmRyb3Aoe2RhdGFUcmFuc2ZlcjpzcmN9KQogICAgICAgIH0sCiAgICAgICAgY2xvc2VJbWcoKXsKICAgICAgICAgICAgdGhpcy53cm9uZ0ZpbGUgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pbWFnZVNvdXJjZSA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdkcm9wLWl0ZW0nLHtpbWFnZTpudWxsfSk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["DragImageAvatar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DragImageAvatar.vue","sourceRoot":"src/components/client","sourcesContent":["<template>\n  <v-card color=\"secondary\" class=\"pa-1\" height=\"300\" width=\"300\">\n    <div class=\"drop\" \n        :class=\"getClasses\" \n        @dragover.prevent=\"dragOver\" \n        @dragleave.prevent=\"dragLeave\"\n        @drop.prevent=\"drop($event)\"\n        style=\"position:relative\"\n    >\n        <img :src=\"imageSource\" v-if=\"imageSource\" />\n        \n        <label for=\"uploadmyfile\">\n            <h1 v-if=\"wrongFile\" class=\"primary--text text-center\" style=\"cursor:pointer\">Error en el formato de archivo</h1>\n            <v-icon v-if=\"!imageSource && !isDragging && !wrongFile\" size=\"200\" color=\"accent\" style=\"cursor:pointer\">{{icon}}</v-icon>\n        </label>\n        <input type=\"file\" id=\"uploadmyfile\" :accept=\"'image/*'\" multiple @change=\"requestUploadFile\">\n        <v-btn \n            color=\"secondary\" \n            fab dark absolute \n            right \n            top \n            x-small\n            @click=\"closeImg\"\n            v-if=\"imageSource\"\n        >\n            <v-icon>mdi-close</v-icon>\n        </v-btn>\n    </div>\n  </v-card>\n</template>\n\n\n<script>\n\nimport { mdiAccount } from '@mdi/js';\n\nexport default {\n    name: 'AImagePick',\n    data(){\n        return{\n            isDragging:false,\n            wrongFile:false,\n            imageSource:null,\n            icon:mdiAccount\n        }\n    },\n    computed:{\n        getClasses(){\n            return {isDragging: this.isDragging};\n        }\n    },\n    methods:{\n        dragOver(){\n            this.isDragging = true;\n        },\n        dragLeave(){\n            this.isDragging = false;\n        },\n        drop(e){\n            let files = e.dataTransfer.files;\n            this.wrongFile = false;\n            if (files.length === 1) {\n                let file = files[0];\n                if (file.type.indexOf('image/') >= 0) {\n\n                    var reader = new FileReader();\n                    reader.onload = f => {\n                        this.imageSource = f.target.result;\n                        this.$emit('drop-item',{image:file});\n                        this.isDragging = false;\n                    }\n                    reader.readAsDataURL(file);\n                }else{\n                    this.wrongFile = true;\n                    this.imageSource = null;\n                    this.isDragging = false;\n                }\n            }\n        },\n        onRequestUploadFiles(){\n        \n        },\n        requestUploadFile(){\n            var src = this.$el.querySelector('#uploadmyfile')\n            this.drop({dataTransfer:src})\n        },\n        closeImg(){\n            this.wrongFile = false;\n            this.imageSource = null;\n            this.isDragging = false;\n            this.$emit('drop-item',{image:null});\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n.drop{\n  width: 100%;\n  height: 100%;\n  background-color: #eee;\n  border:10px solid #eee;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 1rem;\n  transition: background-color .2s ease-in-out;\n\n  font-family: sans-serif;\n}\n\n.isDragging{\n  background-color: #999;\n  border-color: #fff;\n}\n\nimg{\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n#uploadmyfile{\n  display: none;\n}\n</style>"]}]}