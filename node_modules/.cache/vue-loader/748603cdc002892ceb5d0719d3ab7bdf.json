{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/RegisterAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/RegisterAdmin.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9EaWFsb2dNZXNzYWdlJzsKaW1wb3J0IHttYXBTdGF0ZX0gZnJvbSAndnVleCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOnsKICAgICAgICBEaWFsb2cKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgdmFsaWQ6dHJ1ZSwKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIG5hbWVSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ0VsIG5vbWJyZSBlcyByZXF1ZXJpZG8nLAogICAgICAgICAgICBdLAogICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgIGVtYWlsUnVsZXM6IFsKICAgICAgICAgICAgICAgIHYgPT4gISF2IHx8ICdFLW1haWwgZXMgcmVxdWVyaWRvJywKICAgICAgICAgICAgICAgIHYgPT4gLy4rQC4rLy50ZXN0KHYpIHx8ICdFLW1haWwgaW52YWxpZG8nLAogICAgICAgICAgICBdLAogICAgICAgICAgICBwYXNzOiAnJywKICAgICAgICAgICAgcGFzc1J1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnRWwgcGFzc3dvcmQgZXMgcmVxdWVyaWRvJywKICAgICAgICAgICAgICAgIHYgPT4gL14oPz0uKj9bQS1aXSkoPz0oLipbYS16XSl7MSx9KSg/PSguKltcZF0pezEsfSkoPz0oLipbXFddKXsxLH0pKD8hLipccykuezgsfSQvLnRlc3QodikgfHwgJ0xhIENvbnRyYXNlw7FhIGVzIGludmFsaWRhIGRlYmUgaW5jbHVpciBsZXRyYXMgbWF5w7pzY3VsYXMsIG1pbsO6c2N1bGFzLCBuw7ptZXJvcyB5IGNhcmFjdGVyZXMgZXNwZWNpYWxlcycsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGtleTogJycsCiAgICAgICAgICAgIGtleVJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnRXMgbmVjZXNhcmlhIGxhIGxsYXZlIHF1ZSBzZSBvdG9yZ2EgcGFyYSBlc3RlIHJlZ2lzdHJvJywKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcGhvbmU6ICcnLAogICAgICAgICAgICBwaG9uZVJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnRWwgdGVsw6lmb25vIGVzIHJlcXVlcmlkbycsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHBhc3MyOiAnJywKICAgICAgICAgICAgcGFzczJSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ0VsIHBhc3N3b3JkIGVzIHJlcXVlcmlkbycsCiAgICAgICAgICAgICAgICB2ID0+IHY9PXRoaXMucGFzcyB8fCAnRWwgcGFzc3dvcmQgbm8gZXMgaWd1YWwnLAogICAgICAgICAgICBdLAogICAgICAgICAgICBtZXNzYWdlOicnLAogICAgICAgICAgICBkaWFsb2c6ZmFsc2UsCiAgICAgICAgICAgIHJlZGlyOmZhbHNlCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICAuLi5tYXBTdGF0ZShbJ3Nlc3Npb24nXSksCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgYXN5bmMgcmVnaXN0ZXIoKXsKICAgICAgICAgICAgaWYodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpewogICAgICAgICAgICAgICAgLypsZXQgcmVzcD1hd2FpdCBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS5pcCsnL2NzdXJmJyk7CiAgICAgICAgICAgICAgICBsZXQge3Rva2VufT1yZXNwLmpzb24oKTsqLwogICAgICAgICAgICAgICAgbGV0IGRhdGE9ewogICAgICAgICAgICAgICAgICAgIG5hbWU6dGhpcy5uYW1lLAogICAgICAgICAgICAgICAgICAgIGVtYWlsOnRoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgcGhvbmU6dGhpcy5waG9uZSwKICAgICAgICAgICAgICAgICAgICBwYXNzOnRoaXMucGFzcywKICAgICAgICAgICAgICAgICAgICBrZXk6dGhpcy5rZXkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGRhdGE6cXMuc3RyaW5naWZ5KGRhdGEpLAogICAgICAgICAgICAgICAgICAgIHVybDonL3VzZXIvcmVnaXN0ZXInLAogICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nPXRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlPXJlc3BvbnNlLmRhdGEubWVzc2FnZSsnJzsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZGlyPXJlc3BvbnNlLmRhdGEuc3RhdHVzOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2c9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZT1lcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9J0Vycm9yIGVuIGxhIHJlc3B1ZXN0YSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvaygpewogICAgICAgICAgICBpZih0aGlzLnJlZGlyKXsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYWRtaW4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRpYWxvZz1mYWxzZTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIGlmKHRoaXMuc2Vzc2lvbil7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZWFkbScpOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["RegisterAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterAdmin.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n    <v-container fill-height>\n        <v-row justify=\"center\">\n            <v-card elevation=\"15\" width=\"400\" style=\"border-radius:2em\">\n                <v-card-text>\n                    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                        <v-container>\n                            <v-row>\n                                <v-col cols=\"12\">\n                                    <h1 class=\"primary--text\">Registro (Admin)</h1>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"name\"\n                                        :rules=\"nameRules\"\n                                        label=\"Nombre\"\n                                        dense\n                                        type=\"text\"\n                                        required\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"email\"\n                                        :rules=\"emailRules\"\n                                        label=\"E-mail\"\n                                        required\n                                        type=\"text\"\n                                        dense\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"key\"\n                                        :rules=\"keyRules\"\n                                        label=\"Llave\"\n                                        required\n                                        type=\"text\"\n                                        dense\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"phone\"\n                                        :rules=\"phoneRules\"\n                                        label=\"TelÃ©fono\"\n                                        required\n                                        type=\"number\"\n                                        dense\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"pass\"\n                                        :rules=\"passRules\"\n                                        label=\"Password\"\n                                        type=\"password\"\n                                        required\n                                        dense\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"pass2\"\n                                        :rules=\"pass2Rules\"\n                                        label=\"Repita su Password\"\n                                        type=\"password\"\n                                        required\n                                        dense\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"d-flex justify-center\">\n                                    <v-btn large color=\"secondary\" class=\"text-capitalize\" @click=\"register\">Registrarme</v-btn>\n                                </v-col>\n                            </v-row>\n                        </v-container>\n                    </v-form>\n                </v-card-text>\n            </v-card>\n        </v-row>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n<script>\n\nimport qs from 'qs';\nimport Dialog from '@/components/DialogMessage';\nimport {mapState} from 'vuex';\n\nexport default {\n    components:{\n        Dialog\n    },\n    data() {\n        return{\n            valid:true,\n            name: '',\n            nameRules: [\n                v => !!v || 'El nombre es requerido',\n            ],\n            email: '',\n            emailRules: [\n                v => !!v || 'E-mail es requerido',\n                v => /.+@.+/.test(v) || 'E-mail invalido',\n            ],\n            pass: '',\n            passRules: [\n                v => !!v || 'El password es requerido',\n                v => /^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\\d]){1,})(?=(.*[\\W]){1,})(?!.*\\s).{8,}$/.test(v) || 'La ContraseÃ±a es invalida debe incluir letras mayÃºsculas, minÃºsculas, nÃºmeros y caracteres especiales',\n            ],\n            key: '',\n            keyRules: [\n                v => !!v || 'Es necesaria la llave que se otorga para este registro',\n            ],\n            phone: '',\n            phoneRules: [\n                v => !!v || 'El telÃ©fono es requerido',\n            ],\n            pass2: '',\n            pass2Rules: [\n                v => !!v || 'El password es requerido',\n                v => v==this.pass || 'El password no es igual',\n            ],\n            message:'',\n            dialog:false,\n            redir:false\n        }\n    },\n    computed:{\n        ...mapState(['session']),\n    },\n    methods:{\n        async register(){\n            if(this.$refs.form.validate()){\n                /*let resp=await fetch(this.$store.state.ip+'/csurf');\n                let {token}=resp.json();*/\n                let data={\n                    name:this.name,\n                    email:this.email,\n                    phone:this.phone,\n                    pass:this.pass,\n                    key:this.key\n                }\n                this.axios({\n                    method: 'POST',\n                    data:qs.stringify(data),\n                    url:'/user/register',\n                }).then(response=>{\n                    this.dialog=true;\n                    this.message=response.data.message+'';\n                    this.redir=response.data.status;\n                }).catch(err=>{\n                    this.dialog=true;\n                    if (err.response) {\n                        this.message=err.response.data.message;\n                    }else{\n                        this.message='Error en la respuesta';\n                    }\n                });\n\n            }else{\n                this.$refs.form.validate();\n            }\n        },\n        ok(){\n            if(this.redir){\n                this.$router.push('/admin');\n            }\n            this.dialog=false;\n        }\n    },\n    created(){\n        if(this.session){\n            this.$router.push('/homeadm');\n        }\n    }\n}\n</script>"]}]}