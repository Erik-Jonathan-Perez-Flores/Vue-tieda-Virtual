{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/admin/DragImages.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/admin/DragImages.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtZGlGaWxlSW1hZ2UsbWRpQm9va1BsdXNNdWx0aXBsZU91dGxpbmUsbWRpQ2xvc2VPY3RhZ29uLG1kaUN1cnNvckRlZmF1bHRDbGlja091dGxpbmUgfSBmcm9tICdAbWRpL2pzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRHJhZ0ltYWdlcycsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICAgIGlzRHJhZ2dpbmc6ZmFsc2UsCiAgICAgICAgaW1hZ2VTb3VyY2VzOltdLAogICAgICAgIGljb246bWRpRmlsZUltYWdlLAogICAgICAgIHBsdXM6bWRpQm9va1BsdXNNdWx0aXBsZU91dGxpbmUsCiAgICAgICAgY2xvc2VJbWc6bWRpQ2xvc2VPY3RhZ29uLAogICAgICAgIGNsaWNrOm1kaUN1cnNvckRlZmF1bHRDbGlja091dGxpbmUKICAgIH0KICB9LAogIGNvbXB1dGVkOnsKICAgIGdldENsYXNzZXMoKXsKICAgICAgICByZXR1cm4ge2lzRHJhZ2dpbmc6IHRoaXMuaXNEcmFnZ2luZ30KICAgIH0sCiAgICBpbWFnZXNEcmFnKCl7CiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VTb3VyY2VzOwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBjbG9zZSgpewogICAgICBjb25zb2xlLmxvZygnY2xvc2UnKTsKICAgICAgCiAgICB9LAogICAgZHJhZ092ZXIoKXsKICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlCiAgICB9LAogICAgZHJhZ0xlYXZlKCl7CiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2UKICAgIH0sCiAgICBhc3luYyBkcm9wKGUpewogICAgICAgIGxldCBmaWxlcyA9IFsuLi5lLmRhdGFUcmFuc2Zlci5maWxlc10KICAgICAgICBsZXQgaW1hZ2VzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlLycpID49IDApCiAgICAgICAgLy9pbWFnZXMKICAgICAgICB0aGlzLiRlbWl0KCdkcmFnLWltYWdlcycse2RhdGE6aW1hZ2VzfSk7CiAgICAgICAgbGV0IHByb21pc2VzID0gW10KICAgICAgICBpbWFnZXMuZm9yRWFjaChmaWxlID0+IHsKICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmdldEJhc2U2NChmaWxlKSkKICAgICAgICB9KQogICAgICAgIGxldCBzb3VyY2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpCiAgICAgICAgdGhpcy5pbWFnZVNvdXJjZXMgPSB0aGlzLmltYWdlU291cmNlcy5jb25jYXQoc291cmNlcykgICAgICAKICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZQogICAgfSwKCiAgICByZXF1ZXN0VXBsb2FkRmlsZSgpewogICAgICB2YXIgc3JjID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignI3VwbG9hZG15ZmlsZScpCiAgICAgIHRoaXMuZHJvcCh7ZGF0YVRyYW5zZmVyOnNyY30pCiAgICB9LAoKICAgIGdldEJhc2U2NChmaWxlKSB7CiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGV2ID0+IHsKICAgICAgICAgICAgICAgIHJlc29sdmUoZXYudGFyZ2V0LnJlc3VsdCkKICAgICAgICAgICAgfQogICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKQogICAgICAgIH0pCiAgICB9LAogICAgcmVtb3ZlSW1nKG4pewogICAgICAgIGxldCBzb3VyY2VzPVtdOwogICAgICAgIHRoaXMuaW1hZ2VTb3VyY2VzLmZvckVhY2goKGVsZW1lbnQsIHgpID0+IHsKICAgICAgICAgICAgaWYobiE9eCkKICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaChlbGVtZW50KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmltYWdlU291cmNlcz1zb3VyY2VzOwogICAgICAgIHRoaXMuJGVtaXQoJ3JlbW92ZS1lbGVtZW50Jyx7cG9zOm59KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["DragImages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DragImages.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n    <div class=\"drop\" \n        :class=\"getClasses\" \n        @dragover.prevent=\"dragOver\" \n        @dragleave.prevent=\"dragLeave\"\n        @drop.prevent=\"drop($event)\"\n    >\n        <v-row v-if=\"imagesDrag.length>0\">\n            <v-col cols=\"12\">\n                <v-responsive class=\"overflow-y-auto\" height=\"300\">\n                    <v-row>\n                        <v-col cols=\"12\" sm=\"6\" v-for=\"(img,n) in imagesDrag\" :key=\"n\" class=\"d-flex justify-center\">\n                            <v-card width=\"250\" class=\"ma-7\">\n                                <v-card-text>\n                                    <v-img :src=\"img\" width=\"250\" height=\"250\"/>\n                                </v-card-text>\n                                <v-btn @click=\"removeImg(n)\"  x-small fab absolute top right color=\"primary\">\n                                    <v-icon>{{closeImg}}</v-icon>\n                                </v-btn>\n                            </v-card>\n                        </v-col>\n                    </v-row>\n                </v-responsive>\n            </v-col>\n        </v-row>\n        \n        <label for=\"uploadmyfile\" v-if=\"imageSources.length == 0 && !isDragging\">\n            <v-row style=\"cursor:pointer\" class=\"d-flex fill-height align-center\">\n                <v-col cols=\"12\" class=\"d-flex justify-center\">\n                    <v-icon size=\"50\" color=\"accent\">{{icon}}</v-icon>\n                    <v-icon size=\"50\" color=\"accent\">{{click}}</v-icon>\n                </v-col>\n            </v-row>\n        </label>\n\n        <div class=\"manual\">\n            <v-btn fab>\n                <label for=\"uploadmyfile\">\n                    <v-icon color=\"accent\" size=\"30\" style=\"cursor:pointer\">{{plus}}</v-icon>\n                </label>\n            </v-btn>\n            <input type=\"file\" id=\"uploadmyfile\" :accept=\"'image/*'\" multiple @change=\"requestUploadFile\">\n        </div>\n\n    </div>\n</template>\n\n<script>\n\nimport { mdiFileImage,mdiBookPlusMultipleOutline,mdiCloseOctagon,mdiCursorDefaultClickOutline } from '@mdi/js';\n\nexport default {\n  name: 'DragImages',\n  data(){\n    return{\n        isDragging:false,\n        imageSources:[],\n        icon:mdiFileImage,\n        plus:mdiBookPlusMultipleOutline,\n        closeImg:mdiCloseOctagon,\n        click:mdiCursorDefaultClickOutline\n    }\n  },\n  computed:{\n    getClasses(){\n        return {isDragging: this.isDragging}\n    },\n    imagesDrag(){\n        return this.imageSources;\n    }\n  },\n  methods:{\n    close(){\n      console.log('close');\n      \n    },\n    dragOver(){\n        this.isDragging = true\n    },\n    dragLeave(){\n        this.isDragging = false\n    },\n    async drop(e){\n        let files = [...e.dataTransfer.files]\n        let images = files.filter(file => file.type.indexOf('image/') >= 0)\n        //images\n        this.$emit('drag-images',{data:images});\n        let promises = []\n        images.forEach(file => {\n            promises.push(this.getBase64(file))\n        })\n        let sources = await Promise.all(promises)\n        this.imageSources = this.imageSources.concat(sources)      \n        this.isDragging = false\n    },\n\n    requestUploadFile(){\n      var src = this.$el.querySelector('#uploadmyfile')\n      this.drop({dataTransfer:src})\n    },\n\n    getBase64(file) {\n        const reader = new FileReader()\n        return new Promise(resolve => {\n            reader.onload = ev => {\n                resolve(ev.target.result)\n            }\n            reader.readAsDataURL(file)\n        })\n    },\n    removeImg(n){\n        let sources=[];\n        this.imageSources.forEach((element, x) => {\n            if(n!=x)\n                sources.push(element);\n        });\n        this.imageSources=sources;\n        this.$emit('remove-element',{pos:n});\n    }\n  }\n}\n</script>\n\n\n\n<style scoped>\n.drop{\n  width: 100%;\n  height: 300px;\n  background-color: #eee;\n  border:10px solid #eee;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 1rem;\n  transition: background-color .2s ease-in-out;\n\n  font-family: sans-serif;\n\n  overflow: hidden;\n  position: relative;\n}\n\n.isDragging{\n  background-color: #999;\n  border-color: #fff;\n}\n\n.img{\n    padding:1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n}\n\nimg{\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.manual{\n  position: absolute;\n  top:0;\n  right:0;\n  width:100%;\n  font-size:.8rem;\n  text-decoration: underline;\n}\n#uploadmyfile{\n  display: none;\n}\n</style>"]}]}