{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/HomeClient.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/HomeClient.vue","mtime":1635320931820},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUHJvZHVjdCBmcm9tICdAL2NvbXBvbmVudHMvY2xpZW50L1Byb2R1Y3QnOwppbXBvcnQgU2VhcmNoQnlDYXRlZ29yeSBmcm9tICdAL2NvbXBvbmVudHMvY2xpZW50L1NlYXJjaEJ5Q2F0ZWdvcnknOwppbXBvcnQgeyBtZGlEYXRhYmFzZUFsZXJ0IH0gZnJvbSAnQG1kaS9qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOnsKICAgICAgICBQcm9kdWN0LFNlYXJjaEJ5Q2F0ZWdvcnkKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgY29sb3JzOiBbCiAgICAgICAgICAgICAgICAnaW5kaWdvJywKICAgICAgICAgICAgICAgICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICdwaW5rIGRhcmtlbi0yJywKICAgICAgICAgICAgICAgICdyZWQgbGlnaHRlbi0xJywKICAgICAgICAgICAgICAgICdkZWVwLXB1cnBsZSBhY2NlbnQtNCcsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHNsaWRlczogWwogICAgICAgICAgICAgICAgJ0JpZW52ZW5pZG8gYSBTa3luZXQgcC5jLicsCiAgICAgICAgICAgICAgICAnbWVzc2FnZSAyJywKICAgICAgICAgICAgICAgICdtZXNzYWdlIDMnLAogICAgICAgICAgICAgICAgJ21lc3NhZ2UgNCcsCiAgICAgICAgICAgICAgICAnbWVzc2FnZSA1JywKICAgICAgICAgICAgXSwKICAgICAgICAgICAgaXRlbXM6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBzcmM6IHJlcXVpcmUoJ0AvYXNzZXRzL2MxLmpwZWcnKSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgc3JjOiByZXF1aXJlKCdAL2Fzc2V0cy9jMi5qcGVnJyksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHNyYzogcmVxdWlyZSgnQC9hc3NldHMvYzMuanBlZycpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBzcmM6IHJlcXVpcmUoJ0AvYXNzZXRzL2M0LmpwZWcnKSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgc3JjOiByZXF1aXJlKCdAL2Fzc2V0cy9jNS5qcGVnJyksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgICBwcm9kdWN0czpbXSwKICAgICAgICAgICAgaWNvbjptZGlEYXRhYmFzZUFsZXJ0LAoKICAgICAgICAgICAgc2Nyb2xsZWRUb0JvdHRvbTp0cnVlLAogICAgICAgICAgICBjYWxsQXBpOnRydWUsCiAgICAgICAgICAgIHNraXA6MCwKICAgICAgICAgICAgbGltaXQ6MTAsCiAgICAgICAgICAgIHNlYXJjaENhdGVnb3J5Om51bGwKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIHRoaXMuc2Nyb2xsKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHNjcm9sbCAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBib3R0b21PZldpbmRvdyA9IE1hdGgubWF4KHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApICsgd2luZG93LmlubmVySGVpZ2h0ID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgICAgICAgaWYgKGJvdHRvbU9mV2luZG93KSB7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jYWxsQXBpJiZ0aGlzLnNjcm9sbGVkVG9Cb3R0b20pewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVkVG9Cb3R0b209ZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpOyAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaW5pdCgpewogICAgICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICBkYXRhOm51bGwsCiAgICAgICAgICAgICAgICB1cmw6Jy9wcm9kdWN0L2dldD9za2lwPScrdGhpcy5za2lwKycmbGltaXQ9Jyt0aGlzLmxpbWl0KycmY2F0ZWc9Jyt0aGlzLnNlYXJjaENhdGVnb3J5LAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhKQogICAgICAgICAgICAudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICBpZihyZXNwLmxlbmd0aD4wKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzPXRoaXMucHJvZHVjdHMuY29uY2F0KHJlc3ApOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsQXBpPWZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5za2lwKz10aGlzLmxpbWl0OwogICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlZFRvQm90dG9tPXRydWU7CgogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNoYW5nZShkYXQpewogICAgICAgICAgICB0aGlzLnNlYXJjaENhdGVnb3J5PWRhdC5pZDsKICAgICAgICAgICAgdGhpcy5za2lwPTA7CiAgICAgICAgICAgIHRoaXMuY2FsbEFwaT10cnVlOwogICAgICAgICAgICB0aGlzLnByb2R1Y3RzPVtdOwogICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewoKICAgICAgICB0aGlzLmluaXQoKTsKCiAgICB9LAp9Cg=="},{"version":3,"sources":["HomeClient.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"HomeClient.vue","sourceRoot":"src/views/client/data","sourcesContent":["<template>\n    <v-container fluid class=\"pa-0\">\n        <v-row>\n            <v-col cols=\"12\" class=\"pa-0 ma-0\">\n                <v-carousel \n                    :show-arrows=\"false\"\n                    cycle\n                    height=\"400\"\n                    hide-delimiter-background\n                >\n                    <v-carousel-item\n                        v-for=\"(item,i) in items\"\n                        :key=\"i\"\n                        :src=\"item.src\"\n                    ></v-carousel-item>\n                </v-carousel>\n            </v-col>\n            <v-col cols=\"12\" class=\"flex-grow-1 flex-shrink-0\">\n                <v-row>\n                    <v-col cols=\"12\" sm=\"6\">\n                        <h1 class=\"Black--text text-center font-weight-light font-condenced\">LISTA DE PRODUCTOS</h1>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\">\n                        <SearchByCategory\n                            @change-text=\"change\"\n                        />\n                    </v-col>\n                    <v-col cols=\"12\" v-if=\"products.length>0\">\n                        <v-row justify=\"center\">\n                            <Product\n                                v-for=\"(item, j) in products\" :key=\"j\" class=\"pa-1\"\n                                :path=\"item.defaultImg\"\n                                :price=\"item.price\"\n                                :discount=\"item.discount\"\n                                :stateDiscount=\"item.stateDiscount\"\n                                :name=\"item.name\"\n                                :_id=\"item._id\"\n                            />\n                        </v-row>\n                    </v-col>\n                    <v-col cols=\"12\" v-else>\n                        <v-row justify=\"center\">\n                            <v-col cols=\"12\">\n                                <h1 class=\"text-center accent--text\">No se encontraron resultados</h1>\n                            </v-col>\n                            <v-col cols=\"12\" class=\"d-flex justify-center\">\n                                <v-icon size=\"300\" color=\"accent\">{{icon}}</v-icon>\n                            </v-col>\n                        </v-row>\n                    </v-col>\n                </v-row>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\n\nimport Product from '@/components/client/Product';\nimport SearchByCategory from '@/components/client/SearchByCategory';\nimport { mdiDatabaseAlert } from '@mdi/js';\n\nexport default {\n    components:{\n        Product,SearchByCategory\n    },\n    data() {\n        return{\n            colors: [\n                'indigo',\n                'warning',\n                'pink darken-2',\n                'red lighten-1',\n                'deep-purple accent-4',\n            ],\n            slides: [\n                'Bienvenido a Skynet p.c.',\n                'message 2',\n                'message 3',\n                'message 4',\n                'message 5',\n            ],\n            items: [\n                {\n                    src: require('@/assets/c1.jpeg'),\n                },\n                {\n                    src: require('@/assets/c2.jpeg'),\n                },\n                {\n                    src: require('@/assets/c3.jpeg'),\n                },\n                {\n                    src: require('@/assets/c4.jpeg'),\n                },\n                {\n                    src: require('@/assets/c5.jpeg'),\n                },\n            ],\n            products:[],\n            icon:mdiDatabaseAlert,\n\n            scrolledToBottom:true,\n            callApi:true,\n            skip:0,\n            limit:10,\n            searchCategory:null\n        }\n    },\n    mounted(){\n        this.scroll();\n    },\n    methods: {\n        scroll () {\n            window.onscroll = () => {\n                let bottomOfWindow = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) + window.innerHeight === document.documentElement.offsetHeight;\n                if (bottomOfWindow) {\n                    if(this.callApi&&this.scrolledToBottom){\n                        this.scrolledToBottom=false;\n                        this.init();   \n                    }\n                }\n            }\n        },\n        init(){\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/product/get?skip='+this.skip+'&limit='+this.limit+'&categ='+this.searchCategory,\n            }).then(response=>response.data)\n            .then(resp=>{\n                if(resp.length>0){\n                    this.products=this.products.concat(resp);\n                }else{\n                    this.callApi=false;\n                }\n                this.skip+=this.limit;\n                this.scrolledToBottom=true;\n\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        change(dat){\n            this.searchCategory=dat.id;\n            this.skip=0;\n            this.callApi=true;\n            this.products=[];\n            this.init();\n        }\n    },\n    created(){\n\n        this.init();\n\n    },\n}\n</script>"]}]}