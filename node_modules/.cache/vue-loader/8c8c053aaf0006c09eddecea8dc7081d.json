{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/UploadCategory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/UploadCategory.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgRHJhZyBmcm9tICdAL2NvbXBvbmVudHMvYWRtaW4vRHJhZ0ltYWdlQWRtaW4nOwppbXBvcnQgRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9EaWFsb2dNZXNzYWdlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6ewogICAgICAgIERyYWcsRGlhbG9nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIG5hbWU6JycsCiAgICAgICAgICAgIG5hbWVSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ0VsIG5vbWJyZSBlcyByZXF1ZXJpZG8nLAogICAgICAgICAgICBdLAogICAgICAgICAgICBteUltZzpudWxsLAogICAgICAgICAgICBtZXNzYWdlOicnLAogICAgICAgICAgICBkaWFsb2c6ZmFsc2UsCiAgICAgICAgICAgIHJlZGlyOmZhbHNlLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBpbWcoZmlsZSl7CiAgICAgICAgICAgIHRoaXMubXlJbWc9ZmlsZS5pbWFnZTsKICAgICAgICB9LAogICAgICAgIHNlbmQoKXsKICAgICAgICAgICAgaWYodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpewogICAgICAgICAgICAgICAgaWYodGhpcy5teUltZz09bnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2c9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9J1NlIHJlcXVpZXJlIHVuYSBpbWFnZW4nOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1EYXRhPW5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsdGhpcy5uYW1lKTsKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZycsdGhpcy5teUltZyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOmZvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6Jy9jYXRlZ29yeScsCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9cmVzcG9uc2UuZGF0YS5tZXNzYWdlKycnOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZGlyPXJlc3BvbnNlLmRhdGEuc3RhdHVzOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycj0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9ZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9J0Vycm9yIGVuIGxhIHJlc3B1ZXN0YSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb2soKXsKICAgICAgICAgICAgaWYodGhpcy5yZWRpcil7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWVhZG0nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRpYWxvZz1mYWxzZTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["UploadCategory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadCategory.vue","sourceRoot":"src/views/admin/data","sourcesContent":["<template>\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1>Insertar Categoría</h1>\n            </v-col>\n            <v-col cols=\"12\" class=\"d-flex justify-center\">\n                <v-card width=\"500\" elevation=\"15\">\n                    <v-card-text>\n                        <v-form\n                            ref=\"form\"\n                            lazy-validation\n                        >\n                            <v-row>\n                                <v-col cols=\"12\">\n                                    <h2 class=\"accent--text text-center\">Inserte una imagen</h2>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"d-flex justify-center\">\n                                    <Drag\n                                        @drop-item=\"img\"\n                                    />\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <v-text-field\n                                        v-model=\"name\"\n                                        :rules=\"nameRules\"\n                                        label=\"Nombre de la categoría\"\n                                        required\n                                        outlined\n                                        dense\n                                    ></v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"d-flex justify-center\">\n                                    <v-btn large color=\"secondary\" @click=\"send\">Enviar</v-btn>\n                                </v-col>\n                            </v-row>\n                        </v-form>\n                    </v-card-text>\n                </v-card>\n            </v-col>\n        </v-row>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n\n<script>\n\nimport Drag from '@/components/admin/DragImageAdmin';\nimport Dialog from '@/components/DialogMessage';\n\nexport default {\n    components:{\n        Drag,Dialog\n    },\n    data() {\n        return{\n            name:'',\n            nameRules: [\n                v => !!v || 'El nombre es requerido',\n            ],\n            myImg:null,\n            message:'',\n            dialog:false,\n            redir:false,\n        }\n    },\n    methods:{\n        img(file){\n            this.myImg=file.image;\n        },\n        send(){\n            if(this.$refs.form.validate()){\n                if(this.myImg==null){\n                    this.dialog=true;\n                    this.message='Se requiere una imagen';\n                }else{\n                    let formData=new FormData();\n                    formData.append('name',this.name);\n                    formData.append('img',this.myImg);\n                    this.axios({\n                        method: 'POST',\n                        data:formData,\n                        url:'/category',\n                    }).then(response=>{\n                        this.dialog=true;\n                        this.message=response.data.message+'';\n                        this.redir=response.data.status;\n                    }).catch(err=>{\n                        this.dialog=true;\n                        if (err.response) {\n                            this.message=err.response.data.message;\n                        }else{\n                            this.message='Error en la respuesta';\n                        }\n                    });\n                }\n            }else{\n                this.$refs.form.validate();\n            }\n        },\n        ok(){\n            if(this.redir){\n                this.$router.push('/homeadm');\n            }\n            this.dialog=false;\n        }\n    }\n}\n</script>"]}]}