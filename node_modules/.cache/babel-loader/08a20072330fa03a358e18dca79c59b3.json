{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Admins.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Admins.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRpRGVsZXRlT3V0bGluZSwgbWRpVXBkYXRlIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBxcyBmcm9tICdxcyc7CmltcG9ydCBEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL0RpYWxvZ01lc3NhZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGlhbG9nOiBEaWFsb2cKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhZG1pbnM6IFtdLAogICAgICBpY29uOiBtZGlEZWxldGVPdXRsaW5lLAogICAgICB1cGRhdGU6IG1kaVVwZGF0ZSwKICAgICAgc2Nyb2xsQm90dG9tOiBmYWxzZSwKICAgICAgZGlhbG9nQWN0aW9uOiBmYWxzZSwKICAgICAgaWREZWxldGU6ICcnLAogICAgICBwb3NEZWxldGU6IDAsCiAgICAgIHNraXA6IDAsCiAgICAgIGxpbWl0OiAxMCwKICAgICAgY2FsbEFwaTogdHJ1ZSwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHJlZGlyOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNjcm9sbCgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsOiBmdW5jdGlvbiBzY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGJvdHRvbU9mV2luZG93ID0gTWF0aC5tYXgod2luZG93LnBhZ2VZT2Zmc2V0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7CgogICAgICAgIGlmIChib3R0b21PZldpbmRvdykgewogICAgICAgICAgX3RoaXMuc2Nyb2xsQm90dG9tID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpcy5pbml0KCk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNhbGxBcGkpIHJldHVybjsKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBkYXRhOiBudWxsLAogICAgICAgIHVybDogJy9hZG1pbi91c2VyYWRtaW5zP3NraXA9JyArIHRoaXMuc2tpcCArICcmbGltaXQ9JyArIHRoaXMubGltaXQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgX3RoaXMyLmNhbGxBcGkgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5hZG1pbnMgPSBfdGhpczIuYWRtaW5zLmNvbmNhdChyZXNwb25zZS5kYXRhKTsKICAgICAgICBfdGhpczIuc2tpcCArPSBfdGhpczIubGltaXQ7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVVc2VyOiBmdW5jdGlvbiB1cGRhdGVVc2VyKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ0FjdGlvbiA9IGZhbHNlOwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdQQVRDSCcsCiAgICAgICAgZGF0YTogcXMuc3RyaW5naWZ5KGl0ZW0pLAogICAgICAgIHVybDogJy9hZG1pbi91cGRhdGUvJyArIGl0ZW0uX2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczMuZGlhbG9nID0gdHJ1ZTsKICAgICAgICBfdGhpczMubWVzc2FnZSA9IHJlc3AubWVzc2FnZTsKICAgICAgICBfdGhpczMucmVkaXIgPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgb2s6IGZ1bmN0aW9uIG9rKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIHNhdmVJZERlbGV0ZTogZnVuY3Rpb24gc2F2ZUlkRGVsZXRlKGlkLCBpKSB7CiAgICAgIHRoaXMuaWREZWxldGUgPSBpZDsKICAgICAgdGhpcy5wb3NEZWxldGUgPSBpOwogICAgICB0aGlzLmRpYWxvZ0FjdGlvbiA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ0FjdGlvbiA9IGZhbHNlOwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGRhdGE6IG51bGwsCiAgICAgICAgdXJsOiAnL2FkbWluL2RlbGV0ZS8nICsgdGhpcy5pZERlbGV0ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXM0LmRpYWxvZyA9IHRydWU7CiAgICAgICAgX3RoaXM0Lm1lc3NhZ2UgPSByZXNwLm1lc3NhZ2U7CiAgICAgICAgX3RoaXM0LnJlZGlyID0gdHJ1ZTsKCiAgICAgICAgX3RoaXM0LmFkbWlucy5zcGxpY2UoX3RoaXM0LnBvc0RlbGV0ZSwgMSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"sources":["Admins.vue"],"names":[],"mappings":"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","sourcesContent":["<template @scroll=\"scrollhome\">\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1>Lista de Admins (permisos):</h1>\n            </v-col>\n            <v-col cols=\"12\">\n                <v-simple-table>\n                    <template v-slot:default>\n                        <thead>\n                        <tr>\n                            <th class=\"text-left\">\n                                Nro\n                            </th>\n                            <th class=\"text-left\">\n                                Nombre\n                            </th>\n                            <th class=\"text-left\">\n                                Eliminar usuarios\n                            </th>\n                            <th class=\"text-left\">\n                                Publicar\n                            </th>\n                            <th class=\"text-left\">\n                                Servicio técnico\n                            </th>\n                            <th class=\"text-left\">\n                                Reportes\n                            </th>\n                            <th class=\"text-left\">\n                                Cotizaciones\n                            </th>\n                            <th class=\"text-left\">\n                                Generar qr de pagos\n                            </th>\n                            <th class=\"text-left\">\n                                Acción\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr\n                            v-for=\"(item,index) in admins\"\n                            :key=\"index\"\n                        >\n                            <td>{{index+1}}</td>\n                            <td>{{ item.name }}</td>\n                            <td><v-checkbox v-model=\"item.user\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.publish\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.service\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.reports\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.cotization\"></v-checkbox></td>\n                            <td><v-checkbox v-model=\"item.qr\"></v-checkbox></td>\n                            <td>\n                                <v-btn text small @click=\"updateUser(item)\">\n                                    <v-icon color=\"accent\">{{update}}</v-icon>\n                                </v-btn>\n                                <v-btn text small @click=\"saveIdDelete(item._id,index)\">\n                                    <v-icon color=\"accent\">{{icon}}</v-icon>\n                                </v-btn>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </template>\n                </v-simple-table>\n            </v-col>\n        </v-row>\n        <v-dialog\n            v-model=\"dialogAction\"\n            width=\"300\"\n        >\n            <v-card class=\"pa-5\">\n                <v-card-text>\n                    <h1 class=\"text-center\">¿Está seguro de eliminar el usuario?</h1>\n                </v-card-text>\n                <v-card-actions>\n                    <v-btn small color=\"secondary\" class=\"text-capitalize\" @click=\"dialogAction=false\">Cancelar</v-btn>\n                    <v-divider></v-divider>\n                    <v-btn small color=\"secondary\" class=\"text-capitalize\" @click=\"deleteUser\">Eliminar</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n<script>\n\nimport { mdiDeleteOutline,mdiUpdate } from '@mdi/js';\nimport qs from 'qs';\nimport Dialog from '@/components/DialogMessage';\n\nexport default {\n    components:{\n        Dialog\n    },\n    data() {\n        return{\n            admins:[],\n            icon:mdiDeleteOutline,\n            update:mdiUpdate,\n            scrollBottom:false,\n            dialogAction:false,\n            idDelete:'',\n            posDelete:0,\n\n            skip:0,\n            limit:10,\n            callApi:true,\n\n            message:'',\n            dialog:false,\n            redir:false,\n        }\n    },\n    mounted () {\n        this.scroll();\n    },\n    methods:{\n        scroll(){\n            window.onscroll = () => {\n                let bottomOfWindow = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) + window.innerHeight === document.documentElement.offsetHeight;\n                if (bottomOfWindow) {\n                    this.scrollBottom=true;\n                    this.init();\n                }\n            }\n        },\n        init(){\n            if(!this.callApi)return;\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/admin/useradmins?skip='+this.skip+'&limit='+this.limit,\n            }).then(response=>{\n                if(response.data.length==0){\n                    this.callApi=false;\n                    return;\n                }\n                this.admins=this.admins.concat(response.data);\n                this.skip+=this.limit;\n            }).catch(err=>{\n                console.log(err);\n            });\n        },\n        updateUser(item){\n            this.dialogAction=false;\n            this.axios({\n                method: 'PATCH',\n                data:qs.stringify(item),\n                url:'/admin/update/'+item._id,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.dialog=true;\n                this.message=resp.message;\n                this.redir=true;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        ok(){\n            this.dialog=false;\n        },\n        saveIdDelete(id,i){\n            this.idDelete=id;\n            this.posDelete=i;\n            this.dialogAction=true;\n        },\n        deleteUser(){\n            this.dialogAction=false;\n            this.axios({\n                method: 'DELETE',\n                data:null,\n                url:'/admin/delete/'+this.idDelete,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.dialog=true;\n                this.message=resp.message;\n                this.redir=true;\n                this.admins.splice(this.posDelete,1);\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"],"sourceRoot":"src/views/admin/data"}]}