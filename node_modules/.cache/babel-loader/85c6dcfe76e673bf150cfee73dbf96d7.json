{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/DetailsQuot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/DetailsQuot.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHFzIGZyb20gJ3FzJzsKaW1wb3J0IERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvRGlhbG9nTWVzc2FnZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEaWFsb2c6IERpYWxvZwogIH0sCiAgcHJvcHM6IFsnaWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICB1c2VyOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwaG9uZTogJycsCiAgICAgIHJleHBvbnNlVGV4dDogJycsCiAgICAgIHJleHBvbnNlVGV4dFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdFbCBjb21lbnRhcmlvIGVzIHJlcXVlcmlkbyc7CiAgICAgIH1dLAogICAgICBjb21tZW50czogW10sCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICByZWRpcjogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b0VkaXQ6IGZ1bmN0aW9uIHRvRWRpdChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2R1Y3RlZGl0YWRtLycgKyBpZCk7CiAgICB9LAogICAgaW1nOiBmdW5jdGlvbiBpbWcoX2ltZykgewogICAgICBjb25zb2xlLmxvZyhfaW1nKTsKICAgIH0sCiAgICBzZW5kQ29tbWVudDogZnVuY3Rpb24gc2VuZENvbW1lbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgZGF0YTogcXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5yZXhwb25zZVRleHQKICAgICAgICAgIH0pLAogICAgICAgICAgdXJsOiAnL2NvdHovbWFpbC8nICsgdGhpcy5pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBfdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAgICAgX3RoaXMubWVzc2FnZSA9IHJlc3AubWVzc2FnZSArICcnOwogICAgICAgICAgX3RoaXMucmVkaXIgPSB0cnVlOwoKICAgICAgICAgIF90aGlzLmNvbW1lbnRzLnB1c2gocmVzcC5kYXRhKTsKCiAgICAgICAgICBfdGhpcy5yZXhwb25zZVRleHQgPSAnJzsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy5kaWFsb2cgPSB0cnVlOwoKICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5tZXNzYWdlID0gJ0Vycm9yIGVuIGxhIHJlc3B1ZXN0YSc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICB1cmw6ICcvY290ei9nZXRBbi8nICsgdGhpcy5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczIucHJvZHVjdHMgPSByZXNwLnByb2R1Y3RzOwogICAgICAgIF90aGlzMi51c2VyID0gcmVzcC5uYW1lOwogICAgICAgIF90aGlzMi5lbWFpbCA9IHJlc3AuZW1haWw7CiAgICAgICAgX3RoaXMyLnBob25lID0gcmVzcC5waG9uZTsKICAgICAgICBfdGhpczIuY29tbWVudHMgPSByZXNwLmNvbW1lbnRzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgbm93OiBmdW5jdGlvbiBub3coeCkgewogICAgICByZXR1cm4gdGhpcy4kbW9tZW50KHgpLmZyb21Ob3coKTsKICAgIH0sCiAgICBvazogZnVuY3Rpb24gb2soKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbW9udDogZnVuY3Rpb24gbW9udCgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgKyBiLnByaWNlICogYi5xdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["DetailsQuot.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1>Cotizaciones:</h1>\n                <p class=\"text-justify\">(El precio de los productos es el precio al momento de añadir al carrito del cliente)</p>\n            </v-col>\n            <v-col cols=\"12\">\n                <v-row justify=\"center\">\n                    <v-card \n                        width=\"250\" \n                        elevation=\"15\" \n                        class=\"ma-2\" \n                        v-for=\"(item,index) in products\" \n                        :key=\"index\"\n                        @click=\"toEdit(item._id)\"\n                    >\n                        <img\n                            :src=\"item.defaultImg\"\n                            height=\"150\" width=\"250\"\n                        />\n                        <v-card-text>\n                            <v-row>\n                                <v-col cols=\"12\" class=\"pa-1\">\n                                    <h4>Nombre: {{item.name}}</h4>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"pa-1\">\n                                    <h4 >Cantidad: {{item.quantity}}</h4>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"pa-1\">\n                                    <h4 >Precio: {{item.price}}</h4>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"pa-1\">\n                                    <h4 >Fecha: {{ now(item.date)}}</h4>\n                                </v-col>\n                            </v-row>\n                        </v-card-text>\n                    </v-card>\n                </v-row>\n            </v-col>\n            <v-col cols=\"12\" class=\"d-flex justify-center\">\n                <v-card width=\"400\" elevation=\"15\" class=\"pa-3\">\n                    <v-card-text>\n                        <v-row>\n                            <v-col cols=\"12\">\n                                <h1 class=\"text-center\">Detalles de la cotización</h1>\n                            </v-col>\n                            <v-col cols=\"12\" class=\"pa-1\">\n                                <h4>Total: {{mont}}</h4>\n                            </v-col>\n                            <v-col cols=\"12\" class=\"pa-1\">\n                                <h4>Cliente: {{user}}</h4>\n                            </v-col>\n                            <v-col cols=\"12\" class=\"pa-1\">\n                                <h4>Correo: {{email}}</h4>\n                            </v-col>\n                            <v-col cols=\"12\" class=\"pa-1\">\n                                <h4>Teléfono: {{phone}}</h4>\n                            </v-col>\n                        </v-row>\n                    </v-card-text>\n                </v-card>\n            </v-col>\n            <v-col cols=\"12\">\n                \n                <v-row>\n                    <v-col cols=\"12\">\n                        <h1 class=\"text-center\">Comentarios del Admin al correo del cliente</h1>\n                        <p>Se recomienda solo enviar a lo mas 2 comentarios, para evitar confusiones tambien puede escribirle a su whatsapp {{phone}}</p>\n                    </v-col>\n                    <v-col cols=\"12\">\n                        <v-form ref=\"form\">\n                            <v-textarea\n                                outlined\n                                label=\"Envie una respuesta\"\n                                v-model=\"rexponseText\"\n                                :rules=\"rexponseTextRules\"\n                            >\n                            </v-textarea>\n                        </v-form>\n                    </v-col>\n                    <v-col cols=\"12\" class=\"d-flex justify-center\">\n                        <v-btn @click=\"sendComment\" large color=\"secondary\" class=\"text-capitalize\">Enviar Comentario</v-btn>\n                    </v-col>\n                    <v-col cols=\"12\">\n                        <v-card class=\"ma-1\" v-for=\"(item,j) in comments\" :key=\"j\" color=\"accent\">\n                            <v-card-text>\n                                <p class=\"white--text\">{{item.name}} : {{item.comment}}</p>\n                            </v-card-text>\n                        </v-card>\n                    </v-col>\n                </v-row>\n            </v-col>\n        </v-row>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n<script>\n\nimport {mapState,mapMutations} from 'vuex';\nimport qs from 'qs';\nimport Dialog from '@/components/DialogMessage';\n\nexport default {\n    components:{\n        Dialog\n    },\n    props:['id'],\n    data() {\n        return{\n            products:[],\n            user:'',\n            email:'',\n            phone:'',\n            rexponseText:'',\n            rexponseTextRules: [\n                v => !!v || 'El comentario es requerido',\n            ],\n            comments:[],\n\n            message:'',\n            dialog:false,\n            redir:false,\n        }\n    },\n    methods:{\n        toEdit(id){\n            this.$router.push('/producteditadm/'+id);\n        },\n        img(img){\n            console.log(img);\n        },\n        sendComment(){\n            if(this.$refs.form.validate()){\n                this.axios({\n                    method: 'POST',\n                    data:qs.stringify({\n                        message:this.rexponseText\n                    }),\n                    url:'/cotz/mail/'+this.id,\n                }).then(response=>response.data)\n                .then(resp=>{\n                    this.dialog=true;\n                    this.message=resp.message+'';\n                    this.redir=true;\n                    this.comments.push(resp.data);\n                    this.rexponseText='';\n                })\n                .catch(err=>{\n                    this.dialog=true;\n                    if (err.response) {\n                        this.message=err.response.data.message;\n                    }else{\n                        this.message='Error en la respuesta';\n                    }\n                });\n            }else{\n                this.$refs.form.validate()\n            }\n        },\n        init(){\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/cotz/getAn/'+this.id,\n            }).then(response=>response.data.data)\n            .then(resp=>{\n                this.products=resp.products;\n                this.user=resp.name;\n                this.email=resp.email;\n                this.phone=resp.phone;\n                this.comments=resp.comments;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        now(x){\n            return this.$moment(x).fromNow();\n        },\n        ok(){\n            this.dialog=false;\n        }\n    },\n    computed:{\n        mont(){\n            return this.products.reduce((a,b)=>{return a+b.price*b.quantity},0);\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"],"sourceRoot":"src/views/admin/data"}]}