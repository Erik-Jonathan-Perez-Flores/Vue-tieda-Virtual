{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/client/DragImageAvatar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/components/client/DragImageAvatar.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRpQWNjb3VudCB9IGZyb20gJ0BtZGkvanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FJbWFnZVBpY2snLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0RyYWdnaW5nOiBmYWxzZSwKICAgICAgd3JvbmdGaWxlOiBmYWxzZSwKICAgICAgaW1hZ2VTb3VyY2U6IG51bGwsCiAgICAgIGljb246IG1kaUFjY291bnQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0Q2xhc3NlczogZnVuY3Rpb24gZ2V0Q2xhc3NlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpc0RyYWdnaW5nOiB0aGlzLmlzRHJhZ2dpbmcKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRyYWdPdmVyOiBmdW5jdGlvbiBkcmFnT3ZlcigpIHsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgIH0sCiAgICBkcmFnTGVhdmU6IGZ1bmN0aW9uIGRyYWdMZWF2ZSgpIHsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICB9LAogICAgZHJvcDogZnVuY3Rpb24gZHJvcChlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgdGhpcy53cm9uZ0ZpbGUgPSBmYWxzZTsKCiAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDEpIHsKICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdOwoKICAgICAgICBpZiAoZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlLycpID49IDApIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZikgewogICAgICAgICAgICBfdGhpcy5pbWFnZVNvdXJjZSA9IGYudGFyZ2V0LnJlc3VsdDsKCiAgICAgICAgICAgIF90aGlzLiRlbWl0KCdkcm9wLWl0ZW0nLCB7CiAgICAgICAgICAgICAgaW1hZ2U6IGZpbGUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICB9OwoKICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLndyb25nRmlsZSA9IHRydWU7CiAgICAgICAgICB0aGlzLmltYWdlU291cmNlID0gbnVsbDsKICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uUmVxdWVzdFVwbG9hZEZpbGVzOiBmdW5jdGlvbiBvblJlcXVlc3RVcGxvYWRGaWxlcygpIHt9LAogICAgcmVxdWVzdFVwbG9hZEZpbGU6IGZ1bmN0aW9uIHJlcXVlc3RVcGxvYWRGaWxlKCkgewogICAgICB2YXIgc3JjID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignI3VwbG9hZG15ZmlsZScpOwogICAgICB0aGlzLmRyb3AoewogICAgICAgIGRhdGFUcmFuc2Zlcjogc3JjCiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlSW1nOiBmdW5jdGlvbiBjbG9zZUltZygpIHsKICAgICAgdGhpcy53cm9uZ0ZpbGUgPSBmYWxzZTsKICAgICAgdGhpcy5pbWFnZVNvdXJjZSA9IG51bGw7CiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCdkcm9wLWl0ZW0nLCB7CiAgICAgICAgaW1hZ2U6IG51bGwKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DragImageAvatar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAAA,UAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,IAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA;AAAA,QAAA,UAAA,EAAA,KAAA;AAAA,OAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,KANA;AAOA,IAAA,IAPA,gBAOA,CAPA,EAOA;AAAA;;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,YAAA,CAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,CAAA,CAAA;;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,KAAA,CAAA,EAAA;AAEA,cAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,WAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA;AAAA,cAAA,KAAA,EAAA;AAAA,aAAA;;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,WAJA;;AAKA,UAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,SATA,MASA;AACA,eAAA,SAAA,GAAA,IAAA;AACA,eAAA,WAAA,GAAA,IAAA;AACA,eAAA,UAAA,GAAA,KAAA;AACA;AACA;AACA,KA3BA;AA4BA,IAAA,oBA5BA,kCA4BA,CAEA,CA9BA;AA+BA,IAAA,iBA/BA,+BA+BA;AACA,UAAA,GAAA,GAAA,KAAA,GAAA,CAAA,aAAA,CAAA,eAAA,CAAA;AACA,WAAA,IAAA,CAAA;AAAA,QAAA,YAAA,EAAA;AAAA,OAAA;AACA,KAlCA;AAmCA,IAAA,QAnCA,sBAmCA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA;AAxCA;AAfA,CAAA","sourcesContent":["<template>\n  <v-card color=\"secondary\" class=\"pa-1\" height=\"300\" width=\"300\">\n    <div class=\"drop\" \n        :class=\"getClasses\" \n        @dragover.prevent=\"dragOver\" \n        @dragleave.prevent=\"dragLeave\"\n        @drop.prevent=\"drop($event)\"\n        style=\"position:relative\"\n    >\n        <img :src=\"imageSource\" v-if=\"imageSource\" />\n        \n        <label for=\"uploadmyfile\">\n            <h1 v-if=\"wrongFile\" class=\"primary--text text-center\" style=\"cursor:pointer\">Error en el formato de archivo</h1>\n            <v-icon v-if=\"!imageSource && !isDragging && !wrongFile\" size=\"200\" color=\"accent\" style=\"cursor:pointer\">{{icon}}</v-icon>\n        </label>\n        <input type=\"file\" id=\"uploadmyfile\" :accept=\"'image/*'\" multiple @change=\"requestUploadFile\">\n        <v-btn \n            color=\"secondary\" \n            fab dark absolute \n            right \n            top \n            x-small\n            @click=\"closeImg\"\n            v-if=\"imageSource\"\n        >\n            <v-icon>mdi-close</v-icon>\n        </v-btn>\n    </div>\n  </v-card>\n</template>\n\n\n<script>\n\nimport { mdiAccount } from '@mdi/js';\n\nexport default {\n    name: 'AImagePick',\n    data(){\n        return{\n            isDragging:false,\n            wrongFile:false,\n            imageSource:null,\n            icon:mdiAccount\n        }\n    },\n    computed:{\n        getClasses(){\n            return {isDragging: this.isDragging};\n        }\n    },\n    methods:{\n        dragOver(){\n            this.isDragging = true;\n        },\n        dragLeave(){\n            this.isDragging = false;\n        },\n        drop(e){\n            let files = e.dataTransfer.files;\n            this.wrongFile = false;\n            if (files.length === 1) {\n                let file = files[0];\n                if (file.type.indexOf('image/') >= 0) {\n\n                    var reader = new FileReader();\n                    reader.onload = f => {\n                        this.imageSource = f.target.result;\n                        this.$emit('drop-item',{image:file});\n                        this.isDragging = false;\n                    }\n                    reader.readAsDataURL(file);\n                }else{\n                    this.wrongFile = true;\n                    this.imageSource = null;\n                    this.isDragging = false;\n                }\n            }\n        },\n        onRequestUploadFiles(){\n        \n        },\n        requestUploadFile(){\n            var src = this.$el.querySelector('#uploadmyfile')\n            this.drop({dataTransfer:src})\n        },\n        closeImg(){\n            this.wrongFile = false;\n            this.imageSource = null;\n            this.isDragging = false;\n            this.$emit('drop-item',{image:null});\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n.drop{\n  width: 100%;\n  height: 100%;\n  background-color: #eee;\n  border:10px solid #eee;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 1rem;\n  transition: background-color .2s ease-in-out;\n\n  font-family: sans-serif;\n}\n\n.isDragging{\n  background-color: #999;\n  border-color: #fff;\n}\n\nimg{\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n#uploadmyfile{\n  display: none;\n}\n</style>"],"sourceRoot":"src/components/client"}]}