{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Quot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Quot.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9qb25hdGhhbi9Fc2NyaXRvcmlvL1BydWViYXMvUHJveWVjdG8yLnYvdnVlLS0tZnJvbnQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUNhcmRBY2NvdW50RGV0YWlsc1N0YXJPdXRsaW5lLCBtZGlEYXRhYmFzZVJlZnJlc2ggfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IHFzIGZyb20gJ3FzJzsKaW1wb3J0IERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvRGlhbG9nTWVzc2FnZSc7CmltcG9ydCBTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL1NlYXJjaENvdGl6YXRpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGlhbG9nOiBEaWFsb2csCiAgICBTZWFyY2g6IFNlYXJjaAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICBxdW90czogW10sCiAgICAgIGljb246IG1kaUNhcmRBY2NvdW50RGV0YWlsc1N0YXJPdXRsaW5lLAogICAgICBzY3JvbGxCb3R0b206IGZhbHNlLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBpY29uRGF0YWJhc2U6IG1kaURhdGFiYXNlUmVmcmVzaCwKICAgICAgc2tpcDogMCwKICAgICAgbGltaXQ6IDEwLAogICAgICBjYWxsQXBpOiB0cnVlCiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgImRpYWxvZyIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJtZXNzYWdlIiwgJycpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgInJlZGlyIiwgZmFsc2UpLCBfcmVmOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2Nyb2xsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzY3JvbGw6IGZ1bmN0aW9uIHNjcm9sbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYm90dG9tT2ZXaW5kb3cgPSBNYXRoLm1heCh3aW5kb3cucGFnZVlPZmZzZXQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSArIHdpbmRvdy5pbm5lckhlaWdodCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDsKCiAgICAgICAgaWYgKGJvdHRvbU9mV2luZG93KSB7CiAgICAgICAgICBfdGhpcy5zY3JvbGxCb3R0b20gPSB0cnVlOwoKICAgICAgICAgIF90aGlzLmluaXQoKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgdG9RdW90OiBmdW5jdGlvbiB0b1F1b3QoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kZXRhaWxzcXVvdC8nICsgaWQpOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNhbGxBcGkpIHJldHVybjsKICAgICAgdGhpcy5jYWxsQXBpID0gZmFsc2U7CiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICB1cmw6ICcvY290ej9za2lwPScgKyB0aGlzLnNraXAgKyAnJmxpbWl0PScgKyB0aGlzLmxpbWl0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczIucXVvdHMgPSByZXNwOwogICAgICAgIF90aGlzMi5jYWxsQXBpID0gdHJ1ZTsKICAgICAgICBpZiAocmVzcC5sZW5ndGggPT0gMCkgX3RoaXMyLmNhbGxBcGkgPSBmYWxzZTsKICAgICAgICBfdGhpczIuc2tpcCArPSBfdGhpczIubGltaXQ7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBhY3RpdmVTdGF0ZTogZnVuY3Rpb24gYWN0aXZlU3RhdGUoaXRlbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgZGF0YTogcXMuc3RyaW5naWZ5KHsKICAgICAgICAgIHN0YXRlOiBpdGVtLnN0YXRlCiAgICAgICAgfSksCiAgICAgICAgdXJsOiAnL2NvdHovJyArIGl0ZW0uX2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmRpYWxvZyA9IHRydWU7CiAgICAgICAgX3RoaXMzLm1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2UgKyAnJzsKICAgICAgICBfdGhpczMucmVkaXIgPSByZXNwb25zZS5kYXRhLnN0YXR1czsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5kaWFsb2cgPSB0cnVlOwoKICAgICAgICBpZiAoZXJyLnJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczMubWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy5tZXNzYWdlID0gJ0Vycm9yIGVuIGxhIHJlc3B1ZXN0YSc7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvazogZnVuY3Rpb24gb2soKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["Quot.vue"],"names":[],"mappings":"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","sourcesContent":["<template @scroll=\"scrollhome\">\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1>Lista de cotizaciones:</h1>\n            </v-col>\n            <v-col cols=\"12\">\n                <Search/>\n            </v-col>\n            <v-col cols=\"12\" v-if=\"quots.length==0\" class=\"d-flex justify-center\">\n                <v-icon size=\"200\" color=\"accent\">{{iconDatabase}}</v-icon>\n            </v-col>\n            <v-col cols=\"12\" v-else>\n                <v-simple-table>\n                    <template v-slot:default>\n                        <thead>\n                        <tr>\n                            <th class=\"text-left\">\n                                Nro\n                            </th>\n                            <th class=\"text-left\">\n                                Nombre\n                            </th>\n                            <th class=\"text-left\">\n                                Correo\n                            </th>\n                            <th class=\"text-left\">\n                                Atendido NO/SI\n                            </th>\n                            <th class=\"text-left\">\n                                Responder\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr\n                            v-for=\"(item,index) in quots\"\n                            :key=\"index\"\n                        >\n                            <td>{{index+1}}</td>\n                            <td>{{ item.name }}</td>\n                            <td>{{ item.email }}</td>\n                            <td>\n                                <v-switch\n                                    v-model=\"item.state\"\n                                    color=\"secondary\"\n                                    @click=\"activeState(item)\"\n                                ></v-switch>\n                            </td>\n                            <td>\n                                <v-btn text small @click=\"toQuot(item._id)\">\n                                    <v-icon color=\"accent\">{{icon}}</v-icon>\n                                </v-btn>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </template>\n                </v-simple-table>\n            </v-col>\n        </v-row>\n        <Dialog\n            :message=\"message\"\n            :dialog=\"dialog\"\n            :redir=\"redir\"\n            @ok-template=\"ok\"\n        />\n    </v-container>\n</template>\n\n<script>\n\nimport { mdiCardAccountDetailsStarOutline, mdiDatabaseRefresh } from '@mdi/js';\nimport qs from 'qs';\nimport Dialog from '@/components/DialogMessage';\nimport Search from '@/components/admin/SearchCotization';\n\n\nexport default {\n    components:{\n        Dialog,Search\n    },\n    data() {\n        return{\n            quots:[],\n            icon:mdiCardAccountDetailsStarOutline,\n            scrollBottom:false,\n            dialog:false,\n            iconDatabase:mdiDatabaseRefresh,\n\n            skip:0,\n            limit:10,\n            callApi:true,\n\n            dialog:false,\n            message:'',\n            redir:false,\n        }\n    },\n    mounted () {\n        this.scroll();\n    },\n    methods:{\n        scroll(){\n            window.onscroll = () => {\n                let bottomOfWindow = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) + window.innerHeight === document.documentElement.offsetHeight;\n                if (bottomOfWindow) {\n                    this.scrollBottom=true;\n                    this.init();\n                }\n            }\n        },\n        toQuot(id){\n            this.$router.push('/detailsquot/'+id);\n        },\n        init(){\n            if(!this.callApi)return;\n            this.callApi=false;\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/cotz?skip='+this.skip+'&limit='+this.limit,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.quots=resp;\n                this.callApi=true;\n                if(resp.length==0)this.callApi=false;\n                this.skip+=this.limit;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        activeState(item){\n            this.axios({\n                method: 'PUT',\n                data:qs.stringify({\n                    state:item.state\n                }),\n                url:'/cotz/'+item._id,\n            }).then(response=>{\n                this.dialog=true;\n                this.message=response.data.message+'';\n                this.redir=response.data.status;\n            }).catch(err=>{\n                this.dialog=true;\n                if (err.response) {\n                    this.message=err.response.data.message;\n                }else{\n                    this.message='Error en la respuesta';\n                }\n            });\n        },\n        ok(){\n            this.dialog=false;\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"],"sourceRoot":"src/views/admin/data"}]}