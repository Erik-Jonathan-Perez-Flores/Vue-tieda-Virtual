{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Reports.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/admin/data/Reports.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNlYXJjaCBmcm9tICdAL2NvbXBvbmVudHMvYWRtaW4vU2VhcmNoRGF0ZSc7CmltcG9ydCB7IG1kaURhdGFiYXNlUmVmcmVzaCB9IGZyb20gJ0BtZGkvanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2VhcmNoOiBTZWFyY2gKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXBvcnRzOiBbXSwKICAgICAgc2Nyb2xsQm90dG9tOiBmYWxzZSwKICAgICAgaWNvbkRhdGFiYXNlOiBtZGlEYXRhYmFzZVJlZnJlc2gsCiAgICAgIHNraXA6IDAsCiAgICAgIGxpbWl0OiAxMCwKICAgICAgY2FsbEFwaTogdHJ1ZSwKICAgICAgZGF0ZTE6ICcnLAogICAgICBkYXRlMjogJycsCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBpbWdBOiAnJywKICAgICAgZGlhbG9nOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNjcm9sbCgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGVSYW5nZVRleHQ6IGZ1bmN0aW9uIGRhdGVSYW5nZVRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGVzWzBdICsgJyAnICsgdGhpcy5kYXRlc1sxXTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG5vdzogZnVuY3Rpb24gbm93KHgpIHsKICAgICAgcmV0dXJuIHRoaXMuJG1vbWVudCh4KS5mcm9tTm93KCk7CiAgICB9LAogICAgbm93MjogZnVuY3Rpb24gbm93Mih4KSB7CiAgICAgIHZhciBkYXRlZCA9IG5ldyBEYXRlKHgpOwogICAgICByZXR1cm4gZGF0ZWQuZ2V0VVRDRnVsbFllYXIoKSArICctJyArIChkYXRlZC5nZXRVVENNb250aCgpICsgMSkgKyAnLScgKyBkYXRlZC5nZXRVVENEYXRlKCk7CiAgICB9LAogICAgc2Nyb2xsOiBmdW5jdGlvbiBzY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGJvdHRvbU9mV2luZG93ID0gTWF0aC5tYXgod2luZG93LnBhZ2VZT2Zmc2V0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7CgogICAgICAgIGlmIChib3R0b21PZldpbmRvdyAmJiBfdGhpcy5jYWxsQXBpKSB7CiAgICAgICAgICBfdGhpcy5zY3JvbGxCb3R0b20gPSB0cnVlOwoKICAgICAgICAgIF90aGlzLmluaXQoKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuY2FsbEFwaSkgcmV0dXJuOwogICAgICB0aGlzLmNhbGxBcGkgPSBmYWxzZTsKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBkYXRhOiBudWxsLAogICAgICAgIHVybDogJy9yZXBvcnQ/c2tpcD0nICsgdGhpcy5za2lwICsgJyZsaW1pdD0nICsgdGhpcy5saW1pdCArICcmZGF0ZTE9JyArIHRoaXMuZGF0ZTEgKyAnJmRhdGUyPScgKyB0aGlzLmRhdGUyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczIucmVwb3J0cyA9IF90aGlzMi5yZXBvcnRzLmNvbmNhdChyZXNwKTsKICAgICAgICBfdGhpczIuY2FsbEFwaSA9IHRydWU7CiAgICAgICAgaWYgKHJlc3AubGVuZ3RoID09IDApIF90aGlzMi5jYWxsQXBpID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLnNraXAgKz0gX3RoaXMyLmxpbWl0OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9JbWc6IGZ1bmN0aW9uIHRvSW1nKHgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmltZ0EgPSB4OwogICAgfSwKICAgIGRhdGVSYW5nZTogZnVuY3Rpb24gZGF0ZVJhbmdlKG9iKSB7CiAgICAgIHZhciBhcnIgPSBvYi5kYXRlOwogICAgICB2YXIgdmFsMSA9IG5ldyBEYXRlKGFyclswXSk7CiAgICAgIHZhciB2YWwyID0gbmV3IERhdGUoYXJyWzFdKTsKCiAgICAgIGlmICghaXNOYU4odmFsMS5nZXRUaW1lKCkpICYmICFpc05hTih2YWwyLmdldFRpbWUoKSkpIHsKICAgICAgICB0aGlzLmRhdGUxID0gYXJyWzBdOwogICAgICAgIHRoaXMuZGF0ZTIgPSBhcnJbMV07CiAgICAgICAgdGhpcy5za2lwID0gMDsKICAgICAgICB0aGlzLmNhbGxBcGkgPSB0cnVlOwogICAgICAgIHRoaXMucmVwb3J0cyA9IFtdOwogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["Reports.vue"],"names":[],"mappings":"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","sourcesContent":["<template @scroll=\"scrollhome\">\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1>Detalle de ventas:</h1>\n            </v-col>\n            <v-col cols=\"12\">\n                <Search\n                    :lab=\"'Busca el reporte entre rango de fechas...'\"\n                    @date-range=\"dateRange\"\n                />\n            </v-col>\n            <v-col cols=\"12\" v-if=\"reports.length==0\" class=\"d-flex justify-center\">\n                <v-icon size=\"200\" color=\"accent\">{{iconDatabase}}</v-icon>\n            </v-col>\n            <v-col cols=\"12\" v-else>\n                <v-simple-table>\n                    <template v-slot:default>\n                        <thead>\n                            <tr>\n                                <th class=\"text-left\">\n                                    Nro\n                                </th>\n                                <th class=\"text-left\">\n                                    Fecha\n                                </th>\n                                <th class=\"text-left\">\n                                    Admin (Generó el qr de pago)\n                                </th>\n                                <th class=\"text-left\">\n                                    Cliente\n                                </th>\n                                <th class=\"text-left\">\n                                    Producto\n                                </th>\n                                <th class=\"text-left\">\n                                    Precio\n                                </th>\n                                <th class=\"text-left\">\n                                    Cantidad\n                                </th>\n                                <th class=\"text-left\">\n                                    Total\n                                </th>\n                                <th class=\"text-left\">\n                                    Imagen\n                                </th>\n                                <th class=\"text-left\">\n                                    La garantía comenzó\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        <tr\n                            v-for=\"(item,index) in reports\"\n                            :key=\"index\"\n                        >\n                            <td>{{index+1}}</td>\n                            <td>{{ now2(item.date) }}</td>\n                            <td>{{ item.adminName }}</td>\n                            <td>{{ item.userName }}</td>\n                            <td>{{ item.product.name }}</td>\n                            <td>{{ item.product.price }}</td>\n                            <td>{{ item.product.quantity }}</td>\n                            <td>{{ item.product.price*item.product.quantity }}</td>\n                            <td><v-img width=\"70\" height=\"70\" :src=\"item.product.defaultImg\" @click=\"toImg(item.product.defaultImg)\" style=\"cursor:pointer\"></v-img></td>\n                            <td>{{ now(item.product.date) }}</td>\n                        </tr>\n                        </tbody>\n                    </template>\n                </v-simple-table>\n            </v-col>\n        </v-row>\n        <v-dialog\n            v-model=\"dialog\"\n            width=\"400\"\n        >\n            <v-card>\n                <v-img :src=\"imgA\" height=\"400\"></v-img>\n            </v-card>\n        </v-dialog>\n    </v-container>\n</template>\n\n<script>\n\nimport Search from '@/components/admin/SearchDate';\nimport { mdiDatabaseRefresh} from '@mdi/js';\n\nexport default {\n    components:{\n        Search\n    },\n    data() {\n        return{\n            reports:[],\n            scrollBottom:false,\n            iconDatabase:mdiDatabaseRefresh,\n\n            skip:0,\n            limit:10,\n            callApi:true,\n\n            date1:'',\n            date2:'',\n            message:'',\n            imgA:'',\n            dialog:false\n        }\n    },\n    mounted () {\n        this.scroll();\n    },\n    computed:{\n        dateRangeText(){\n            return this.dates[0]+' '+this.dates[1];\n        }\n    },\n    methods:{\n        now(x){\n            return this.$moment(x).fromNow();\n        },\n        now2(x){\n            let dated=new Date(x);\n            return dated.getUTCFullYear()+'-'+(dated.getUTCMonth() + 1)+'-'+dated.getUTCDate();\n        },\n        scroll(){\n            window.onscroll = () => {\n                let bottomOfWindow = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) + window.innerHeight === document.documentElement.offsetHeight;\n                if (bottomOfWindow&&this.callApi) {\n                    this.scrollBottom=true;\n                    this.init();\n                }\n            }\n        },\n        init(){\n            if(!this.callApi)return;\n            this.callApi=false;\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/report?skip='+this.skip+'&limit='+this.limit+'&date1='+this.date1+'&date2='+this.date2,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.reports=this.reports.concat(resp);\n                this.callApi=true;\n                if(resp.length==0)this.callApi=false;\n                this.skip+=this.limit;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        toImg(x){\n            this.dialog=true;\n            this.imgA=x;\n        },\n        dateRange(ob){\n            let arr=ob.date;\n            let val1=new Date(arr[0]);\n            let val2=new Date(arr[1]);\n            if(!isNaN(val1.getTime())&&!isNaN(val2.getTime())){\n                this.date1=arr[0];\n                this.date2=arr[1];\n                this.skip=0;\n                this.callApi=true;\n                this.reports=[];\n                this.init();\n            }\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"],"sourceRoot":"src/views/admin/data"}]}