{"remainingRequest":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/QrDetailsClient.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/src/views/client/data/QrDetailsClient.vue","mtime":1635297296000},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/babel-loader/lib/index.js","mtime":1635304629563},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/cache-loader/dist/cjs.js","mtime":1635304628963},{"path":"/home/jonathan/Escritorio/Pruebas/Proyecto2.v/vue---front-master/node_modules/vue-loader/lib/index.js","mtime":1635304629775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvam9uYXRoYW4vRXNjcml0b3Jpby9QcnVlYmFzL1Byb3llY3RvMi52L3Z1ZS0tLWZyb250LW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEcmFnIGZyb20gJ0AvY29tcG9uZW50cy9jbGllbnQvRHJhZ0ltYWdlJzsKaW1wb3J0IERlbmllZCBmcm9tICdAL2NvbXBvbmVudHMvRGVuaWVkQ2xpZW50JzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgbWRpQWxlcnRDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydpZCddLAogIGNvbXBvbmVudHM6IHsKICAgIERyYWc6IERyYWcsCiAgICBEZW5pZWQ6IERlbmllZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhdGhRcjogJycsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGljb246IG1kaUFsZXJ0Q2lyY2xlT3V0bGluZSwKICAgICAgc3RhdGVDbGllbnQ6IGZhbHNlLAogICAgICBzdGF0ZTogZmFsc2UsCiAgICAgIGltZ1JlY2VpcHQ6ICcnLAogICAgICBpbWdGaWxlOiBudWxsLAogICAgICBkaWFsb2cyOiBmYWxzZSwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGRpYWxvZzM6IGZhbHNlLAogICAgICBkaWFsb2c0OiBmYWxzZSwKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBkZXNjcmlwdGlvblJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdMYSBkZXNjcmlwY2nDs24gZXMgcmVxdWVyaWRhJzsKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydzZXNzaW9uJ10pKSwKICBtZXRob2RzOiB7CiAgICBpbWc6IGZ1bmN0aW9uIGltZyhfaW1nKSB7CiAgICAgIHRoaXMuaW1nRmlsZSA9IF9pbWcuaW1hZ2U7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICB1cmw6ICcvcXIvcXIvJyArIHRoaXMuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzLnBhdGhRciA9IHJlc3AucXJJbWFnZTsKICAgICAgICBfdGhpcy5pbWdSZWNlaXB0ID0gcmVzcC5yZWNlaXB0SW1hZ2U7CiAgICAgICAgX3RoaXMuc3RhdGVDbGllbnQgPSByZXNwLmNsaWVudFN0YXRlOwogICAgICAgIF90aGlzLnN0YXRlID0gcmVzcC5zdGF0ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbmRSZWNlaXB0OiBmdW5jdGlvbiBzZW5kUmVjZWlwdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pbWdGaWxlICE9IG51bGwpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZycsIHRoaXMuaW1nRmlsZSk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdkZXNjcmlwdGlvbicsIHRoaXMuZGVzY3JpcHRpb24pOwogICAgICAgIHRoaXMuYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLAogICAgICAgICAgZGF0YTogZm9ybURhdGEsCiAgICAgICAgICB1cmw6ICcvcXIvaW1nUmVjZWlwdC8nICsgdGhpcy5pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBfdGhpczIuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIuZGlhbG9nMiA9IHRydWU7CiAgICAgICAgICBfdGhpczIubWVzc2FnZSA9IHJlc3AubWVzc2FnZTsKICAgICAgICAgIF90aGlzMi5pbWdSZWNlaXB0ID0gcmVzcC5wYXRoOwogICAgICAgICAgX3RoaXMyLnN0YXRlQ2xpZW50ID0gdHJ1ZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczIuZGlhbG9nMiA9IHRydWU7CiAgICAgICAgICBfdGhpczIubWVzc2FnZSA9ICdFcnJvciBlbiBsYSByZXNwdWVzdGEnOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlhbG9nMiA9IHRydWU7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ1NlIHJlcXVpZXJlIGVudmlhciBsYSBpbWFnZW4gZGVsIHJlY2libyc7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"sources":["QrDetailsClient.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <Denied v-if=\"!session\"/>\n    <v-container v-else>\n        <v-row>\n            <v-col cols=\"12\">\n                <h1 class=\"accent--text\">Qr de pago</h1>\n            </v-col>\n            <v-col cols=\"12\" v-if=\"!state\">\n                <h4 class=\"accent--text text-center\">Aún no se envió la imagen qr de pago</h4>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" class=\"d-flex justify-center\">\n                <v-card elevation=\"15\" class=\"pa-2\" v-if=\"!state\">\n                    <h4 class=\"accent--text text-center\">La imagen QR aparecerá aqui</h4>\n                    <v-icon size=\"280\" color=\"accent\">{{icon}}</v-icon>\n                </v-card>\n                <v-card elevation=\"15\" class=\"pa-2\" v-else @click=\"dialog4=true\">\n                    <h4 class=\"accent--text text-center\">QR actual</h4>\n                    <v-img :src=\"pathQr\" width=\"250\" height=\"250\" ></v-img>\n                </v-card>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" class=\"d-flex justify-center\">\n                <v-card elevation=\"15\" class=\"pa-2\" v-if=\"!stateClient\">\n                    <h4 class=\"accent--text text-center\">El recibo aparecerá aqui</h4>\n                    <v-icon size=\"280\" color=\"accent\">{{icon}}</v-icon>\n                </v-card>\n                <v-card elevation=\"15\" class=\"pa-2\" v-else @click=\"dialog3=true\">\n                    <h4 class=\"accent--text text-center\">Recibo actual</h4>\n                    <v-img :src=\"imgReceipt\" width=\"250\" height=\"250\" ></v-img>\n                </v-card>\n            </v-col>\n            <v-col cols=\"12\" class=\"d-flex justify-center\">\n                <h1 class=\"accent--text\">Escanee el código con su banco</h1>\n            </v-col>\n            <v-col cols=\"12\" class=\"d-flex justify-center\">\n                <v-btn\n                    large \n                    color=\"secondary\" \n                    class=\"text-capitalize\"\n                    @click=\"dialog=true\"\n                >\n                    Abrir formulario para enviar recibo\n                </v-btn>\n            </v-col>\n        </v-row>\n        <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500\"\n        >\n            <v-card class=\"pa-5\">\n                <v-card-text>\n                    <v-row>\n                        <v-col cols=\"12\" class=\"pa-0\">\n                            <h4 class=\"accent--text text-center\">Vuelva a enviar el recibo si desea editar su envio</h4>\n                        </v-col>\n                        <v-col cols=\"12\" class=\"d-flex justify-center pa-1\">\n                            <Drag\n                                @drop-item=\"img\"\n                            />\n                        </v-col>\n                        <v-col cols=\"12\" class=\"pa-1\">\n                            <v-textarea\n                                v-model=\"description\"\n                                :rules=\"descriptionRules\"\n                                label=\"Descripción del recibo\"\n                                required\n                                outlined\n                                dense\n                            ></v-textarea>\n                        </v-col>\n                    </v-row>\n                </v-card-text>\n                <v-card-actions>\n                    <v-btn color=\"secondary\" @click=\"dialog=false\" class=\"text-capitalize\">Cancelar</v-btn>\n                    <v-divider></v-divider>\n                    <v-btn color=\"secondary\" class=\"text-capitalize\" @click=\"sendReceipt\">Enviar</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n        <v-dialog\n            v-model=\"dialog2\"\n            width=\"400\"\n        >\n            <v-card class=\"pa-5\">\n                <v-card-text>\n                    <h3 class=\"text--primary text-center\">{{message}}</h3>\n                </v-card-text>\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn @click=\"dialog2=false\" color=\"primary\">Okay</v-btn>\n                    <v-spacer></v-spacer>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n        <v-dialog\n            v-model=\"dialog3\"\n            width=\"400\"\n        >\n            <v-card>\n                <img :src=\"imgReceipt\" height=\"560\"/>\n            </v-card>\n        </v-dialog>\n        <v-dialog\n            v-model=\"dialog4\"\n            width=\"400\"\n        >\n            <v-card>\n                <img :src=\"pathQr\" height=\"400\"/>\n            </v-card>\n        </v-dialog>\n    </v-container>\n</template>\n\n<script>\n\nimport Drag from '@/components/client/DragImage';\nimport Denied from '@/components/DeniedClient';\nimport {mapState} from 'vuex';\nimport { mdiAlertCircleOutline } from '@mdi/js';\n\nexport default {\n    props:['id'],\n    components:{\n        Drag,Denied\n    },\n    data() {\n        return{\n            pathQr:'',\n            dialog:false,\n            icon:mdiAlertCircleOutline,\n            stateClient:false,\n            state:false,\n            imgReceipt:'',\n            imgFile:null,\n\n            dialog2:false,\n            message:'',\n\n            dialog3:false,\n            dialog4:false,\n\n            description: '',\n            descriptionRules: [\n                v => !!v || 'La descripción es requerida',\n            ],\n        }\n    },\n    computed:{\n        ...mapState(['session']),\n    },\n    methods:{\n        img(img){\n            this.imgFile=img.image;\n        },\n        init(){\n            this.axios({\n                method: 'GET',\n                data:null,\n                url:'/qr/qr/'+this.id,\n            }).then(response=>response.data)\n            .then(resp=>{\n                this.pathQr=resp.qrImage;\n                this.imgReceipt=resp.receiptImage;\n                this.stateClient=resp.clientState;\n                this.state=resp.state;\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n        },\n        sendReceipt(){\n            if(this.imgFile!=null){\n                let formData=new FormData();\n                formData.append('img',this.imgFile);\n                formData.append('description',this.description);\n                this.axios({\n                    method: 'PATCH',\n                    data:formData,\n                    url:'/qr/imgReceipt/'+this.id,\n                }).then(response=>response.data)\n                .then(resp=>{\n                    this.dialog=false;\n                    this.dialog2=true;\n                    this.message=resp.message;\n                    this.imgReceipt=resp.path;\n                    this.stateClient=true;\n                })\n                .catch(err=>{\n                    this.dialog2=true;\n                    this.message='Error en la respuesta';\n                });\n            }else{\n                this.dialog2=true;\n                this.message='Se requiere enviar la imagen del recibo';\n            }\n        }\n    },\n    created(){\n        this.init();\n    }\n}\n</script>"],"sourceRoot":"src/views/client/data"}]}